(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[115],{2597:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(16),i=a(3),s=a(7),l=a(1),r=a(34),c=a(152),o=a(975),d=a.n(o),u=a(543),j=a(535),b=a(532),m=a(533),f=a(479),v=a(324),h=a(529),O=a(478),x=a(480),p=a(482),g=a(12),N=a(141),C=a.n(N),y=a(59),_=(a(169),a(0)),w=function(e){var t=e.addNewUserDetails,a=e.onChangeAddNewUserDetails;return Object(_.jsxs)(f.a,{className:"addNewCustomerForm",children:[Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"userName",children:"Username"}),Object(_.jsx)(O.a,{type:"text",name:"userName",id:"userName",placeholder:"Enter Username",value:t.name,onChange:function(e){return a("username",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"userEmail",children:"Email"}),Object(_.jsx)(O.a,{type:"email",name:"userEmail",id:"userEmail",placeholder:"Enter Email",value:t.email,onChange:function(e){return a("email",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(_.jsx)(O.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:t.first_name,onChange:function(e){return a("first_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(_.jsx)(O.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:t.last_name,onChange:function(e){return a("last_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(_.jsx)(O.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:t.mobile_number,onChange:function(e){return a("mobile_number",e.target.value)}})]})]})},M=(a(63),a(10),a(47)),S=a(108),k=(a(170),a(38));function E(e){Object(y.g)(),Object(l.useRef)();var t=Object(l.useState)([]),a=Object(s.a)(t,2),o=a[0],N=a[1],E=Object(l.useState)([]),U=Object(s.a)(E,2),I=U[0],L=U[1],D=Object(l.useState)(null),R=Object(s.a)(D,2),F=R[0],P=(R[1],Object(l.useState)(!1)),A=Object(s.a)(P,2),J=A[0],T=A[1],$=Object(l.useState)(!1),z=Object(s.a)($,2),q=z[0],B=z[1],W=Object(l.useState)(!1),Z=Object(s.a)(W,2),G=Z[0],H=Z[1],K=Object(l.useState)(!1),Q=Object(s.a)(K,2),V=Q[0],X=Q[1],Y=Object(l.useState)(""),ee=Object(s.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(l.useState)(1),ie=Object(s.a)(ne,2),se=ie[0],le=ie[1],re=Object(l.useState)(""),ce=Object(s.a)(re,2),oe=ce[0],de=ce[1],ue=Object(l.useState)({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),je=Object(s.a)(ue,2),be=je[0],me=je[1],fe=Object(l.useState)({first_name:"",last_name:"",mobile_number:""}),ve=Object(s.a)(fe,2),he=(ve[0],ve[1],Object(l.useState)(!1)),Oe=Object(s.a)(he,2),xe=Oe[0],pe=Oe[1],ge=Object(l.useState)(null),Ne=Object(s.a)(ge,2),Ce=(Ne[0],Ne[1],Object(l.useState)(0)),ye=Object(s.a)(Ce,2),_e=(ye[0],ye[1],Object(l.useState)()),we=Object(s.a)(_e,2);we[0],we[1];Object(l.useEffect)((function(){localStorage.getItem("isLoggedIn");Me()}),[]);var Me=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(k.l)(e,se).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(N(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),L(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),de(parseInt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)))})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))},Se=function(e,t){me(Object(i.a)(Object(i.a)({},be),{},Object(n.a)({},e,t)))},ke=function(){B(!1),me({username:"",email:"",first_name:"",last_name:"",mobile_number:""})},Ee=Object(l.useState)(!1),Ue=Object(s.a)(Ee,2);Ue[0],Ue[1];return Object(_.jsxs)("div",{className:"user-management",children:[Object(_.jsxs)(r.a,{children:[Object(_.jsx)("title",{children:"Automaton | Customers List"}),Object(_.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(_.jsxs)(M.a,{fullBlock:!0,children:[Object(_.jsxs)("div",{className:"table-responsive",children:[Object(_.jsxs)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:[Object(_.jsxs)("div",{className:"search-row",children:[Object(_.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:te,onChange:function(e){return ae(e.target.value)}}),Object(_.jsx)(c.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(k.o)(e,te).then((function(e){var t,a;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0?(L(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),ae("")):(L(o),ae(""),g.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]}),Object(_.jsxs)(c.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(e){return function(e){e.preventDefault(),B(!0)}(e)},children:[" ",Object(_.jsx)("i",{className:"zmdi zmdi-plus mx-2"}),"Users"]})]}),Object(_.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{}),Object(_.jsx)("th",{children:"No"}),Object(_.jsx)("th",{children:"User"}),Object(_.jsx)("th",{children:"Email"}),Object(_.jsx)("th",{children:"Phone"}),Object(_.jsx)("th",{children:"Action"})]})}),Object(_.jsx)("tbody",{children:I&&I.map((function(e,t,a){var n=null===e||void 0===e?void 0:e.is_active;return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{}),Object(_.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(_.jsx)("td",{children:Object(_.jsx)("div",{className:"media",children:Object(_.jsx)("div",{className:"media-body",children:Object(_.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.user})})})}),Object(_.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(_.jsx)("td",{children:null!==e&&void 0!==e&&e.phone?null===e||void 0===e?void 0:e.phone:"-"}),Object(_.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(_.jsx)(d.a,{onClick:function(){return function(e,t){var a=JSON.parse(localStorage.getItem("token"));null!==a&&(null!==e&&void 0!==e&&e.is_active?Object(k.a)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(X(!1),T(!0),console.log("Response",e),setTimeout((function(){T(!1),Me(),g.NotificationManager.success("User disable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,X(!1),g.NotificationManager.error("Error while disable user"))})).catch((function(e){X(!1),g.NotificationManager.error("Error while disable user")})):Object(k.b)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(X(!1),T(!0),console.log("Response",e),setTimeout((function(){T(!1),Me(),g.NotificationManager.success("User enable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,X(!1),g.NotificationManager.error("Error while enable user"))})).catch((function(e){X(!1),g.NotificationManager.error("Error while enable user")})))}(e)},on:n,className:1==(null===e||void 0===e?void 0:e.is_active)?"bg-primary":"bg-danger"})})]},t)}))})]}),(null===o||void 0===o?void 0:o.length)>0&&Object(_.jsx)("div",{className:"paginationDiv",children:Object(_.jsx)(C.a,{activePage:se,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(se!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(k.l)(t,e).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(N(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),L(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),de(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count))})).catch((function(e){})),le(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:oe})})]}),J&&Object(_.jsx)(S.a,{})]}),Object(_.jsxs)(u.a,{isOpen:q,toggle:function(){return ke()},className:"addCustomerModal ",children:[Object(_.jsx)(j.a,{toggle:function(){return ke()},children:Object(_.jsx)("strong",{children:"Welcome"})}),Object(_.jsx)(b.a,{children:Object(_.jsx)(w,{addNewUserDetails:be,onChangeAddNewUserDetails:Se})}),Object(_.jsxs)(m.a,{style:{display:"flex",justifyContent:"space-between",padding:"20px 50px"},children:[Object(_.jsx)(c.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e=be.username,t=be.email,a=be.first_name,n=be.last_name,i=be.mobile_number,s=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==t&&""!==a&&""!==n&&""!==i)if(!0===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.trim("")))if(!0===s.test(a.trim("")))if(!0===s.test(n.trim("")))if(!0===/^\d{10}$/.test(i)){var l=JSON.parse(localStorage.getItem("token"));null!==l&&Object(k.e)(l,e.toLowerCase(),t.toLowerCase(),a,n,i).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(B(!1),T(!0),setTimeout((function(){var t;T(!1),Me(),g.NotificationManager.success(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)}),2e3),me({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from addcustomer:",e))})).catch((function(e){var t,a;if(400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){var n,i,s,l,r,c,o=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i||null===(s=i.email)||void 0===s?void 0:s[0],d=null===e||void 0===e||null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r||null===(c=r.username)||void 0===c?void 0:c[0];o&&d?(g.NotificationManager.error(o),g.NotificationManager.error(d)):o?g.NotificationManager.error(o):d&&g.NotificationManager.error(d)}else 500===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&g.NotificationManager.error("Internal server error !")}))}else g.NotificationManager.error("Mobile Number must be 10 digits!");else g.NotificationManager.error("Last name must contain only alphabet and no spacings!");else g.NotificationManager.error("First name must contain only alphabet and no spacings!");else g.NotificationManager.error("Invalid email address format!");else g.NotificationManager.error("Please provide all customer details")}()},className:"py-2",style:{color:"#fff"},children:"Send"}),Object(_.jsx)(c.a,{variant:"contained",onClick:function(){return ke()},className:"py-2 px-3 bg-danger text-white",style:{cursor:"pointer"},children:"Cancel"})]})]}),Object(_.jsxs)(u.a,{isOpen:G,className:"addCustomerModal",children:[Object(_.jsx)(j.a,{toggle:function(){return H(!1)},children:"Update Customer"}),Object(_.jsx)(b.a,{children:Object(_.jsxs)(f.a,{children:[Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(_.jsx)(O.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:be.first_name,onChange:function(e){return Se("first_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(_.jsx)(O.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:be.last_name,onChange:function(e){return Se("last_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(_.jsx)(O.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:be.mobile_number,onChange:function(e){return Se("mobile_number",e.target.value)}})]})]})}),Object(_.jsxs)(m.a,{children:[Object(_.jsx)(c.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",onClick:function(){var e=be.first_name,t=be.last_name,a=be.mobile_number,n=be.id,i=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==t&&""!==a)if(!0===i.test(e))if(!0===i.test(t))if(!0===/^\d{10}$/.test(a)){var s=JSON.parse(localStorage.getItem("token"));null!==s&&Object(k.x)(s,e,t,a,n).then((function(e){if(200===(null===e||void 0===e?void 0:e.status))H(!1),T(!0),setTimeout((function(){T(!1),Me(),g.NotificationManager.success("Updated user successfully!")}),2e3),me({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from updatecustomer:",e);else if(400===(null===e||void 0===e?void 0:e.status)){var t,a;B(!1),g.NotificationManager.error(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.email,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.username)}else B(!1),g.NotificationManager.error("Error while updating customer")})).catch((function(e){g.NotificationManager.error("Error while updating customer")}))}else g.NotificationManager.error("Mobile Number must be 10 digits!");else g.NotificationManager.error("Last name must contain only alphabet and no spacings!");else g.NotificationManager.error("First name must contain only alphabet and no spacings!");else g.NotificationManager.error("Please provide all customer details")},children:"Update"}),Object(_.jsx)(c.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){H(!1),me({username:"",email:"",first_name:"",last_name:"",mobile_number:""})},children:"Cancel"})]})]}),Object(_.jsxs)(u.a,{isOpen:V,className:"addCustomerModal",children:[Object(_.jsxs)(b.a,{children:["Are you sure want to delete ",null===F||void 0===F?void 0:F.username," ?"]}),Object(_.jsxs)(m.a,{children:[Object(_.jsx)(c.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",children:"Delete"}),Object(_.jsx)(c.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){return X(!1)},children:"Cancel"})]})]}),Object(_.jsx)(x.a,{onClose:function(){return pe(!1)},open:xe,children:Object(_.jsx)(p.a,{className:"view_profile",children:null!==F&&Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"clearfix",children:Object(_.jsx)("div",{className:"media pull-left",children:Object(_.jsxs)("div",{className:"media-body",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Username : "}),Object(_.jsx)("span",{className:"fw-bold",children:F.username})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"First Name : "}),Object(_.jsx)("span",{className:"fw-bold",children:F.first_name})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Last Name : "}),Object(_.jsx)("span",{className:"fw-bold",children:F.last_name})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Email : "}),Object(_.jsx)("span",{className:"fw-bold",children:F.email})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Contact Number : "}),Object(_.jsx)("span",{className:"fw-bold",children:F.mobile_number})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"User Type : "}),Object(_.jsx)("span",{className:"badge badge-warning",children:F.user_type})]})]})})})})})})]})}},975:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(2)),i=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}var l={on:n.default.bool.isRequired,onClick:n.default.func.isRequired,enabled:n.default.bool,className:n.default.string};function r(e){var t=e.on,a=e.onClick,n=e.onDisabledClick,s=e.enabled,l=e.className,r=e.children,c=["switch",l,t?"on ":"",s?"":"disabled "].join(" ");return i.default.createElement("div",{className:c,onClick:function(e){return s?a(e):n(e)}},i.default.createElement("div",{className:"switch-toggle",children:r}))}r.propTypes=l,r.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=r}}]);
//# sourceMappingURL=115.68c0a177.chunk.js.map