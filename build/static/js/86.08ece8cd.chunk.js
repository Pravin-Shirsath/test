(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[86],{1550:function(e,t,a){},2485:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(30),s=a(8),c=(a(1550),a(118)),l=a(1551),i=a.n(l),r=a(69),d=a(52),u=a(39),j=a(66),p=a(17),m=a(1),f=a(365),x=a(690),g=a(587),h=a(526),b=a(338),O=a(32),v=a(20),y=a(42),N=a(62),C=(a(244),a(245),a(246),a(157),a(140),a(2436)),S=(a(2437),a(0)),w=a(157).DashboardModal;t.default=function(e){var t=Object(j.g)(),a=Object(m.useState)(!1),l=Object(s.a)(a,2),A=l[0],D=(l[1],Object(m.useState)("")),k=Object(s.a)(D,2),I=k[0],T=k[1],M=Object(m.useState)(""),P=Object(s.a)(M,2),H=P[0],J=P[1],U=Object(m.useState)(),_=Object(s.a)(U,2),B=_[0],q=_[1],z=Object(m.useState)(),E=Object(s.a)(z,2),R=E[0],W=E[1],X=Object(m.useState)(!0),F=Object(s.a)(X,2),G=F[0],K=F[1];console.log(I,"Dataset name"),console.log(H,"Commmenttt");var L=function(){var e=Object(o.a)(Object(n.a)().mark((function e(){var t,a,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("datasetid"));try{void 0===B?((o=new N.c({id:"uppy",autoProceed:!1,exposedHeaders:["Access-Control-Allow-Headers"]})).use(C.a,{endpoint:"".concat(O.b,"/api/automaton/file-uploads/uppy/xhr/upload/").concat(a,"/"),method:"POST",fieldName:"files",headers:{"X-My-Custom-Header":"header-value",Authorization:t,"Acess-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"OPTIONS, GET, POST, PATCH, PUT","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept, Authorization, Extra-Data"}}),o.on("file-added",(function(e){console.log("Added file",e)})),o.on("upload",(function(e){console.log("Started uploading")})),o.on("upload-success",(function(e,t){console.log("Upload successful")})),o.on("upload-error",(function(e,t,a){console.log("Upload failed",t)})),W(o),q(!0)):q(!0)}catch(n){console.log("catch ",n)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(B,"open"),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(u.a,{children:[Object(S.jsx)("title",{children:"Automaton | Create Dataset"}),Object(S.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(S.jsx)(r.a,{title:Object(S.jsx)(p.a,{id:"sidebar.createDataset"}),match:e.match}),void 0!=R&&Object(S.jsx)(w,{uppy:R,open:B,target:document.body,onRequestClose:function(){return q(!1)}}),Object(S.jsxs)(d.a,{fullBlock:!0,children:[Object(S.jsx)("div",{style:{padding:"80px",alignItems:"center",justifyContent:"center",display:"flex"},children:Object(S.jsx)("div",{className:"user-profile-widget box-shadow-box",style:{width:"60%",backgroundColor:"white"},children:Object(S.jsx)("div",{className:"p-20",children:Object(S.jsxs)("div",{style:{marginTop:"30px"},children:[Object(S.jsx)(f.a,{row:!0,children:Object(S.jsxs)(x.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(S.jsx)(g.a,{for:"firstName",sm:3,className:"d-flex ",children:Object(S.jsxs)("span",{children:["Dataset Name",Object(S.jsx)("span",{className:"text-danger madatory-field",children:"*"})]})}),Object(S.jsx)(h.a,{type:"text",className:"input-md",sm:10,onChange:function(e){T(e.target.value)},value:I})]})}),Object(S.jsx)(f.a,{row:!0,children:Object(S.jsxs)(x.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(S.jsx)(g.a,{for:"firstName",sm:3,className:"d-flex primary-dark",children:Object(S.jsx)("span",{children:" Comment"})}),Object(S.jsx)(h.a,{type:"text",style:{height:"100px"},value:H,onChange:function(e){J(e.target.value)},sm:10})]})}),Object(S.jsxs)("div",{className:"d-flex align-items-center justify-content-end",style:{marginTop:"30px",marginBottom:"30px"},children:[Object(S.jsx)(b.a,{variant:"contained",color:"primary",style:{width:"100px",padding:"7px 5px"},className:"projectCardButton mx-2",onClick:function(){var e=JSON.parse(localStorage.getItem("token")),t=localStorage.getItem("projId");null!==e&&t&&I&&(console.log(e,typeof e,"autthhh token"),Object(y.w)(e,t,I).then((function(e){var t,a,n,o;if(console.log(e,"resss in handle save function"),console.log(null===e||void 0===e?void 0:e.data,"ress dataaa i n handle save function"),200==(null===e||void 0===e?void 0:e.status))if("string"==typeof(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))v.NotificationManager.error(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message);else if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(n=a.message)&&void 0!==n&&n.Dataset_created){var s,c,l,i,r,d;localStorage.setItem("projId",null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.message)||void 0===c||null===(l=c.Dataset_created)||void 0===l?void 0:l.project_id),localStorage.setItem("datasetid",null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.message)||void 0===r||null===(d=r.Dataset_created)||void 0===d?void 0:d.id),K(!1),v.NotificationManager.success("Dataset created !")}else v.NotificationManager.error("Dataset create process failed!");else v.NotificationManager.error("Dataset create process failed!")})).catch((function(e){console.log("Dataset create error",e)})))},children:"Save"}),Object(S.jsx)(b.a,{variant:"contained",color:"danger",style:{width:"100px",padding:"7px 5px"},className:"mx-2 d-flex justify-content-center align-items-center",onClick:function(){return t.push("/app/dashboard/project")},children:"Cancel"}),Object(S.jsxs)(b.a,{variant:"contained",color:"primary",style:{width:"100px",padding:"7px 5px"},disabled:G,className:"mx-2 d-flex justify-content-center align-items-center",onClick:function(){return L()},children:[Object(S.jsx)(i.a,{}),"Upload"]})]})]})})})}),A&&Object(S.jsx)(c.a,{})]})]})}}}]);
//# sourceMappingURL=86.08ece8cd.chunk.js.map