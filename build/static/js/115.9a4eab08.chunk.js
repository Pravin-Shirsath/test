(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[115],{2599:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(16),i=a(3),s=a(7),l=a(1),r=a(34),c=a(152),o=a(977),d=a.n(o),u=a(543),j=a(535),b=a(532),m=a(533),f=a(479),v=a(324),h=a(529),O=a(478),x=a(480),p=a(482),g=a(12),N=a(137),C=a.n(N),y=a(59),_=(a(169),a(0)),w=function(e){var t=e.addNewUserDetails,a=e.onChangeAddNewUserDetails;return Object(_.jsxs)(f.a,{className:"addNewCustomerForm",children:[Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"userName",children:"Username"}),Object(_.jsx)(O.a,{type:"text",name:"userName",id:"userName",placeholder:"Enter Username",value:t.name,onChange:function(e){return a("username",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"userEmail",children:"Email"}),Object(_.jsx)(O.a,{type:"email",name:"userEmail",id:"userEmail",placeholder:"Enter Email",value:t.email,onChange:function(e){return a("email",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(_.jsx)(O.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:t.first_name,onChange:function(e){return a("first_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(_.jsx)(O.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:t.last_name,onChange:function(e){return a("last_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(_.jsx)(O.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:t.mobile_number,onChange:function(e){return a("mobile_number",e.target.value)}})]})]})},M=a(63),S=a(10),k=a(47),E=a(108),U=(a(170),a(38));function I(e){Object(y.g)(),Object(l.useRef)();var t=Object(l.useState)([]),a=Object(s.a)(t,2),o=a[0],N=a[1],I=Object(l.useState)([]),L=Object(s.a)(I,2),D=L[0],R=L[1],F=Object(l.useState)(""),P=Object(s.a)(F,2),A=P[0],J=P[1],T=Object(l.useState)(1),z=Object(s.a)(T,2),$=z[0],q=z[1],B=Object(l.useState)(""),W=Object(s.a)(B,2),Z=W[0],G=W[1],H=Object(l.useState)(null),K=Object(s.a)(H,2),Q=K[0],V=(K[1],Object(l.useState)(!1)),X=Object(s.a)(V,2),Y=X[0],ee=X[1],te=Object(l.useState)(!1),ae=Object(s.a)(te,2),ne=ae[0],ie=ae[1],se=Object(l.useState)(!1),le=Object(s.a)(se,2),re=le[0],ce=le[1],oe=Object(l.useState)(!1),de=Object(s.a)(oe,2),ue=de[0],je=de[1],be=Object(l.useState)({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),me=Object(s.a)(be,2),fe=me[0],ve=me[1],he=Object(l.useState)({first_name:"",last_name:"",mobile_number:""}),Oe=Object(s.a)(he,2),xe=(Oe[0],Oe[1],Object(l.useState)(!1)),pe=Object(s.a)(xe,2),ge=pe[0],Ne=pe[1],Ce=Object(l.useState)(null),ye=Object(s.a)(Ce,2),_e=(ye[0],ye[1],Object(l.useState)(0)),we=Object(s.a)(_e,2),Me=(we[0],we[1],Object(l.useState)()),Se=Object(s.a)(Me,2);Se[0],Se[1];Object(l.useEffect)((function(){localStorage.getItem("isLoggedIn");ke()}),[]);var ke=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(U.n)(e,$).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(N(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),R(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),G(parseInt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)))})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))},Ee=function(e,t){ve(Object(i.a)(Object(i.a)({},fe),{},Object(n.a)({},e,t)))},Ue=function(){ie(!1),ve({username:"",email:"",first_name:"",last_name:"",mobile_number:""})};return Object(_.jsxs)("div",{className:"user-management",children:[Object(_.jsxs)(r.a,{children:[Object(_.jsx)("title",{children:"Automaton | Customers List"}),Object(_.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(_.jsx)(M.a,{title:Object(_.jsx)(S.a,{id:"sidebar.usermangement"}),match:e.match}),Object(_.jsxs)(k.a,{fullBlock:!0,children:[Object(_.jsxs)("div",{className:"table-responsive",children:[Object(_.jsxs)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:[Object(_.jsxs)("div",{className:"search-row",children:[Object(_.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:A,onChange:function(e){return J(e.target.value)}}),Object(_.jsx)(c.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(U.q)(e,A).then((function(e){var t,a;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0?(R(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),J("")):(R(o),J(""),g.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]}),Object(_.jsxs)(c.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(e){return function(e){e.preventDefault(),ie(!0)}(e)},children:[" ",Object(_.jsx)("i",{className:"zmdi zmdi-plus mx-2"}),"Users"]})]}),Object(_.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{}),Object(_.jsx)("th",{children:"No"}),Object(_.jsx)("th",{children:"User"}),Object(_.jsx)("th",{children:"Email"}),Object(_.jsx)("th",{children:"Phone"}),Object(_.jsx)("th",{children:"Action"})]})}),Object(_.jsx)("tbody",{children:D&&D.map((function(e,t,a){var n=null===e||void 0===e?void 0:e.is_active;return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{}),Object(_.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(_.jsx)("td",{children:Object(_.jsx)("div",{className:"media",children:Object(_.jsx)("div",{className:"media-body",children:Object(_.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.user})})})}),Object(_.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(_.jsx)("td",{children:null!==e&&void 0!==e&&e.phone?null===e||void 0===e?void 0:e.phone:"-"}),Object(_.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(_.jsx)(d.a,{onClick:function(){return function(e,t){var a=JSON.parse(localStorage.getItem("token"));null!==a&&(null!==e&&void 0!==e&&e.is_active?Object(U.a)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(je(!1),ee(!0),console.log("Response",e),setTimeout((function(){ee(!1),ke(),g.NotificationManager.success("User disable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,je(!1),g.NotificationManager.error("Error while disable user"))})).catch((function(e){je(!1),g.NotificationManager.error("Error while disable user")})):Object(U.b)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(je(!1),ee(!0),console.log("Response",e),setTimeout((function(){ee(!1),ke(),g.NotificationManager.success("User enable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,je(!1),g.NotificationManager.error("Error while enable user"))})).catch((function(e){je(!1),g.NotificationManager.error("Error while enable user")})))}(e)},on:n,className:1==(null===e||void 0===e?void 0:e.is_active)?"bg-primary":"bg-danger"})})]},t)}))})]}),(null===o||void 0===o?void 0:o.length)>0&&Object(_.jsx)("div",{className:"paginationDiv",children:Object(_.jsx)(C.a,{activePage:$,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if($!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(U.n)(t,e).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(N(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),R(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),G(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count))})).catch((function(e){})),q(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:Z})})]}),Y&&Object(_.jsx)(E.a,{})]}),Object(_.jsxs)(u.a,{isOpen:ne,toggle:function(){return Ue()},className:"addCustomerModal ",children:[Object(_.jsx)(j.a,{toggle:function(){return Ue()},children:Object(_.jsx)("strong",{children:"Welcome"})}),Object(_.jsx)(b.a,{children:Object(_.jsx)(w,{addNewUserDetails:fe,onChangeAddNewUserDetails:Ee})}),Object(_.jsxs)(m.a,{style:{display:"flex",justifyContent:"space-between",padding:"20px 50px"},children:[Object(_.jsx)(c.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e=fe.username,t=fe.email,a=fe.first_name,n=fe.last_name,i=fe.mobile_number,s=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==t&&""!==a&&""!==n&&""!==i)if(!0===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.trim("")))if(!0===s.test(a.trim("")))if(!0===s.test(n.trim("")))if(!0===/^\d{10}$/.test(i)){var l=JSON.parse(localStorage.getItem("token"));null!==l&&Object(U.g)(l,e.toLowerCase(),t.toLowerCase(),a,n,i).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(ie(!1),ee(!0),setTimeout((function(){var t;ee(!1),ke(),g.NotificationManager.success(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)}),2e3),ve({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from addcustomer:",e))})).catch((function(e){var t,a;if(400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){var n,i,s,l,r,c,o=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i||null===(s=i.email)||void 0===s?void 0:s[0],d=null===e||void 0===e||null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r||null===(c=r.username)||void 0===c?void 0:c[0];o&&d?(g.NotificationManager.error(o),g.NotificationManager.error(d)):o?g.NotificationManager.error(o):d&&g.NotificationManager.error(d)}else 500===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&g.NotificationManager.error("Internal server error !")}))}else g.NotificationManager.error("Mobile Number must be 10 digits!");else g.NotificationManager.error("Last name must contain only alphabet and no spacings!");else g.NotificationManager.error("First name must contain only alphabet and no spacings!");else g.NotificationManager.error("Invalid email address format!");else g.NotificationManager.error("Please provide all customer details")}()},className:"py-2",style:{color:"#fff"},children:"Send"}),Object(_.jsx)(c.a,{variant:"contained",onClick:function(){return Ue()},className:"py-2 px-3 bg-danger text-white",style:{cursor:"pointer"},children:"Cancel"})]})]}),Object(_.jsxs)(u.a,{isOpen:re,className:"addCustomerModal",children:[Object(_.jsx)(j.a,{toggle:function(){return ce(!1)},children:"Update Customer"}),Object(_.jsx)(b.a,{children:Object(_.jsxs)(f.a,{children:[Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(_.jsx)(O.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:fe.first_name,onChange:function(e){return Ee("first_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(_.jsx)(O.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:fe.last_name,onChange:function(e){return Ee("last_name",e.target.value)}})]}),Object(_.jsxs)(v.a,{children:[Object(_.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(_.jsx)(O.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:fe.mobile_number,onChange:function(e){return Ee("mobile_number",e.target.value)}})]})]})}),Object(_.jsxs)(m.a,{children:[Object(_.jsx)(c.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",onClick:function(){var e=fe.first_name,t=fe.last_name,a=fe.mobile_number,n=fe.id,i=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==t&&""!==a)if(!0===i.test(e))if(!0===i.test(t))if(!0===/^\d{10}$/.test(a)){var s=JSON.parse(localStorage.getItem("token"));null!==s&&Object(U.z)(s,e,t,a,n).then((function(e){if(200===(null===e||void 0===e?void 0:e.status))ce(!1),ee(!0),setTimeout((function(){ee(!1),ke(),g.NotificationManager.success("Updated user successfully!")}),2e3),ve({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from updatecustomer:",e);else if(400===(null===e||void 0===e?void 0:e.status)){var t,a;ie(!1),g.NotificationManager.error(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.email,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.username)}else ie(!1),g.NotificationManager.error("Error while updating customer")})).catch((function(e){g.NotificationManager.error("Error while updating customer")}))}else g.NotificationManager.error("Mobile Number must be 10 digits!");else g.NotificationManager.error("Last name must contain only alphabet and no spacings!");else g.NotificationManager.error("First name must contain only alphabet and no spacings!");else g.NotificationManager.error("Please provide all customer details")},children:"Update"}),Object(_.jsx)(c.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){ce(!1),ve({username:"",email:"",first_name:"",last_name:"",mobile_number:""})},children:"Cancel"})]})]}),Object(_.jsxs)(u.a,{isOpen:ue,className:"addCustomerModal",children:[Object(_.jsxs)(b.a,{children:["Are you sure want to delete ",null===Q||void 0===Q?void 0:Q.username," ?"]}),Object(_.jsxs)(m.a,{children:[Object(_.jsx)(c.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",children:"Delete"}),Object(_.jsx)(c.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){return je(!1)},children:"Cancel"})]})]}),Object(_.jsx)(x.a,{onClose:function(){return Ne(!1)},open:ge,children:Object(_.jsx)(p.a,{className:"view_profile",children:null!==Q&&Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"clearfix",children:Object(_.jsx)("div",{className:"media pull-left",children:Object(_.jsxs)("div",{className:"media-body",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Username : "}),Object(_.jsx)("span",{className:"fw-bold",children:Q.username})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"First Name : "}),Object(_.jsx)("span",{className:"fw-bold",children:Q.first_name})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Last Name : "}),Object(_.jsx)("span",{className:"fw-bold",children:Q.last_name})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Email : "}),Object(_.jsx)("span",{className:"fw-bold",children:Q.email})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"Contact Number : "}),Object(_.jsx)("span",{className:"fw-bold",children:Q.mobile_number})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{children:"User Type : "}),Object(_.jsx)("span",{className:"badge badge-warning",children:Q.user_type})]})]})})})})})})]})}},977:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(2)),i=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}var l={on:n.default.bool.isRequired,onClick:n.default.func.isRequired,enabled:n.default.bool,className:n.default.string};function r(e){var t=e.on,a=e.onClick,n=e.onDisabledClick,s=e.enabled,l=e.className,r=e.children,c=["switch",l,t?"on ":"",s?"":"disabled "].join(" ");return i.default.createElement("div",{className:c,onClick:function(e){return s?a(e):n(e)}},i.default.createElement("div",{className:"switch-toggle",children:r}))}r.propTypes=l,r.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=r}}]);
//# sourceMappingURL=115.9a4eab08.chunk.js.map