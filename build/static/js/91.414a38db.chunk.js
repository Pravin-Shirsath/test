(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[91],{1539:function(e,t,r){"use strict";var o=r(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(674)),n=r(0),s=(0,a.default)((0,n.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");t.default=s},2420:function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));var o=r(15),a=r(3),n=r(29),s=r(9),i=r(8),u=r(13),p=r(18),l=r(19),d=r(122),c="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",f=r(173),h=r(262),v=r(263),m=r(264),y=r(204);function b(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var g=0;function w(e){return"__private_"+g+++"_"+e}var O=w("aliveTimer"),j=w("isDone"),E=w("onTimedOut"),U=w("timeout"),k=function(){function e(t,r){Object(s.a)(this,e),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:!1}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,U,{writable:!0,value:void 0}),b(this,U)[U]=t,b(this,E)[E]=r}return Object(i.a)(e,[{key:"progress",value:function(){b(this,j)[j]||b(this,U)[U]>0&&(clearTimeout(b(this,O)[O]),b(this,O)[O]=setTimeout(b(this,E)[E],b(this,U)[U]))}},{key:"done",value:function(){b(this,j)[j]||(clearTimeout(b(this,O)[O]),b(this,O)[O]=null,b(this,j)[j]=!0)}}]),e}(),T=r(266),R=r(157),x=r(265),F={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function S(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var M=0;function P(e){return"__private_"+M+++"_"+e}function D(e,t){var r=t;return r||(r=new Error("Upload error")),"string"===typeof r&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),Object(x.a)(e)?r=new R.a(r,e):(r.request=e,r)}function N(e){return e.data.slice(0,e.data.size,e.meta.type)}var q=P("queueRequestSocketToken"),C=P("requestSocketToken"),H=function(e){Object(p.a)(r,e);var t=Object(l.a)(r);function r(e,i){var p;Object(s.a)(this,r),p=t.call(this,e,i),Object.defineProperty(Object(u.a)(p),q,{writable:!0,value:void 0}),Object.defineProperty(Object(u.a)(p),C,{writable:!0,value:function(){var e=Object(n.a)(Object(o.a)().mark((function e(t){var r,n,s,i,u;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.getOptions(t),n=t.remote.providerOptions.provider?f.a:f.b,s=new n(p.uppy,t.remote.providerOptions),i=Array.isArray(r.allowedMetaFields)?r.allowedMetaFields:Object.keys(t.meta),e.next=6,s.post(t.remote.url,Object(a.a)(Object(a.a)({},t.remote.body),{},{protocol:"multipart",endpoint:r.endpoint,size:t.data.size,fieldname:r.fieldName,metadata:Object.fromEntries(i.map((function(e){return[e,t.meta[e]]}))),httpMethod:r.method,useFormData:r.formData,headers:r.headers}));case 6:return u=e.sent,e.abrupt("return",u.token);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),p.type="uploader",p.id=p.opts.id||"XHRUpload",p.title="XHRUpload",p.defaultLocale=F;var l={formData:!0,fieldName:i.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:5,withCredentials:!1,responseType:"",getResponseData:function(t){var r={};try{r=JSON.parse(t)}catch(o){e.log(o)}return r},getResponseError:function(e,t){var r=new Error("Upload error");return Object(x.a)(t)&&(r=new R.a(r,t)),r},validateStatus:function(e){return e>=200&&e<300}};if(p.opts=Object(a.a)(Object(a.a)({},l),i),p.i18nInit(),p.handleUpload=p.handleUpload.bind(Object(u.a)(p)),T.b in p.opts?p.requests=p.opts[T.b]:p.requests=new T.a(p.opts.limit),p.opts.bundle&&!p.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if(void 0===(null==i?void 0:i.allowedMetaFields)&&"metaFields"in p.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");return p.uploaderEvents=Object.create(null),S(Object(u.a)(p),q)[q]=p.requests.wrapPromiseFunction(S(Object(u.a)(p),C)[C],{priority:-1}),p}return Object(i.a)(r,[{key:"getOptions",value:function(e){var t=this.uppy.getState().xhrUpload,r=this.opts.headers,o=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},this.opts),t||{}),e.xhrUpload||{}),{},{headers:{}});return"function"===typeof r?o.headers=r(e):Object.assign(o.headers,this.opts.headers),t&&Object.assign(o.headers,t.headers),e.xhrUpload&&Object.assign(o.headers,e.xhrUpload.headers),o}},{key:"addMetadata",value:function(e,t,r){(Array.isArray(r.allowedMetaFields)?r.allowedMetaFields:Object.keys(t)).forEach((function(r){e.append(r,t[r])}))}},{key:"createFormDataUpload",value:function(e,t){var r=new FormData;this.addMetadata(r,e.meta,t);var o=N(e);return e.name?r.append(t.fieldName,o,e.meta.name):r.append(t.fieldName,o),r}},{key:"createBundledUpload",value:function(e,t){var r=this,o=new FormData,a=this.uppy.getState().meta;return this.addMetadata(o,a,t),e.forEach((function(e){var t=r.getOptions(e),a=N(e);e.name?o.append(t.fieldName,a,e.name):o.append(t.fieldName,a)})),o}},{key:"upload",value:function(e,t,r){var o=this,a=this.getOptions(e);return this.uppy.log("uploading ".concat(t," of ").concat(r)),new Promise((function(t,r){o.uppy.emit("upload-started",e);var n,s=a.formData?o.createFormDataUpload(e,a):e.data,i=new XMLHttpRequest;o.uploaderEvents[e.id]=new y.a(o.uppy);var u=new k(a.timeout,(function(){var t=new Error(o.i18n("uploadStalled",{seconds:Math.ceil(a.timeout/1e3)}));o.uppy.emit("upload-stalled",t,[e])})),p=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+=c[64*Math.random()|0];return e}();i.upload.addEventListener("loadstart",(function(){o.uppy.log("[XHRUpload] ".concat(p," started"))})),i.upload.addEventListener("progress",(function(t){o.uppy.log("[XHRUpload] ".concat(p," progress: ").concat(t.loaded," / ").concat(t.total)),u.progress(),t.lengthComputable&&o.uppy.emit("upload-progress",e,{uploader:o,bytesUploaded:t.loaded,bytesTotal:t.total})})),i.addEventListener("load",(function(){if(o.uppy.log("[XHRUpload] ".concat(p," finished")),u.done(),n.done(),o.uploaderEvents[e.id]&&(o.uploaderEvents[e.id].remove(),o.uploaderEvents[e.id]=null),a.validateStatus(i.status,i.responseText,i)){var s=a.getResponseData(i.responseText,i),l=s[a.responseUrlFieldName],d={status:i.status,body:s,uploadURL:l};return o.uppy.emit("upload-success",e,d),l&&o.uppy.log("Download ".concat(e.name," from ").concat(l)),t(e)}var c=a.getResponseData(i.responseText,i),f=D(i,a.getResponseError(i.responseText,i)),h={status:i.status,body:c};return o.uppy.emit("upload-error",e,f,h),r(f)})),i.addEventListener("error",(function(){o.uppy.log("[XHRUpload] ".concat(p," errored")),u.done(),n.done(),o.uploaderEvents[e.id]&&(o.uploaderEvents[e.id].remove(),o.uploaderEvents[e.id]=null);var t=D(i,a.getResponseError(i.responseText,i));return o.uppy.emit("upload-error",e,t),r(t)})),i.open(a.method.toUpperCase(),a.endpoint,!0),i.withCredentials=a.withCredentials,""!==a.responseType&&(i.responseType=a.responseType),n=o.requests.run((function(){o.uppy.emit("upload-started",e);var t=o.getOptions(e);return Object.keys(t.headers).forEach((function(e){i.setRequestHeader(e,t.headers[e])})),i.send(s),function(){u.done(),i.abort()}})),o.onFileRemove(e.id,(function(){n.abort(),r(new Error("File removed"))})),o.onCancelAll(e.id,(function(e){"user"===e.reason&&n.abort(),r(new Error("Upload cancelled"))}))}))}},{key:"uploadRemote",value:function(){var e=Object(n.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.uppy.emit("upload-started",t),!t.serverToken){e.next=4;break}return e.abrupt("return",this.connectToServerSocket(t));case 4:return e.next=6,S(this,q)[q](t);case 6:if(r=e.sent,this.uppy.getState().files[t.id]){e.next=9;break}return e.abrupt("return",void 0);case 9:return this.uppy.setFileState(t.id,{serverToken:r}),e.abrupt("return",this.connectToServerSocket(this.uppy.getFile(t.id)));case 13:throw e.prev=13,e.t0=e.catch(0),this.uppy.emit("upload-error",t,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connectToServerSocket",value:function(e){var t=this;return new Promise((function(r,o){var a,n=t.getOptions(e),s=e.serverToken,i=Object(v.a)(e.remote.companionUrl),u=function(){null==a&&((a=new f.c({target:"".concat(i,"/api/").concat(s)})).on("progress",(function(r){return Object(h.a)(t,r,e)})),a.on("success",(function(o){var s=n.getResponseData(o.response.responseText,o.response),i=s[n.responseUrlFieldName],u={status:o.response.status,body:s,uploadURL:i};return t.uppy.emit("upload-success",e,u),p.done(),a.close(),t.uploaderEvents[e.id]&&(t.uploaderEvents[e.id].remove(),t.uploaderEvents[e.id]=null),r()})),a.on("error",(function(r){var a=r.response,s=a?n.getResponseError(a.responseText,a):Object.assign(new Error(r.error.message),{cause:r.error});t.uppy.emit("upload-error",e,s),p.done(),t.uploaderEvents[e.id]&&(t.uploaderEvents[e.id].remove(),t.uploaderEvents[e.id]=null),o(s)})))};t.uploaderEvents[e.id]=new y.a(t.uppy);var p=t.requests.run((function(){var t;e.isPaused?null==(t=a)||t.send("pause",{}):u();return function(){return a.close()}}));t.onFileRemove(e.id,(function(){var t;null==(t=a)||t.send("cancel",{}),p.abort(),r("upload ".concat(e.id," was removed"))})),t.onCancelAll(e.id,(function(t){var o;"user"===(void 0===t?{}:t).reason&&(null==(o=a)||o.send("cancel",{}),p.abort());r("upload ".concat(e.id," was canceled"))}));var l=function(){null==a?p.abort():(a.send("pause",{}),p.done()),p=t.requests.run((function(){return e.isPaused||(null==a?u():a.send("resume",{})),function(){return a.close()}}))};t.onRetry(e.id,l),t.onRetryAll(e.id,l)})).catch((function(r){return t.uppy.emit("upload-error",e,r),Promise.reject(r)}))}},{key:"uploadBundle",value:function(e){var t=this;return new Promise((function(r,o){var n=t.opts.endpoint,s=t.opts.method,i=t.uppy.getState().xhrUpload,u=t.createBundledUpload(e,Object(a.a)(Object(a.a)({},t.opts),i||{})),p=new XMLHttpRequest,l=function(r){e.forEach((function(e){t.uppy.emit("upload-error",e,r)}))},d=new k(t.opts.timeout,(function(){var r=new Error(t.i18n("uploadStalled",{seconds:Math.ceil(t.opts.timeout/1e3)}));t.uppy.emit("upload-stalled",r,e)}));p.upload.addEventListener("loadstart",(function(){t.uppy.log("[XHRUpload] started uploading bundle"),d.progress()})),p.upload.addEventListener("progress",(function(r){d.progress(),r.lengthComputable&&e.forEach((function(e){t.uppy.emit("upload-progress",e,{uploader:t,bytesUploaded:r.loaded/r.total*e.size,bytesTotal:e.size})}))})),p.addEventListener("load",(function(a){if(d.done(),t.opts.validateStatus(a.target.status,p.responseText,p)){var n=t.opts.getResponseData(p.responseText,p),s={status:a.target.status,body:n};return e.forEach((function(e){t.uppy.emit("upload-success",e,s)})),r()}var i=t.opts.getResponseError(p.responseText,p)||new Error("Upload error");return i.request=p,l(i),o(i)})),p.addEventListener("error",(function(){d.done();var e=t.opts.getResponseError(p.responseText,p)||new Error("Upload error");return l(e),o(e)})),t.uppy.on("cancel-all",(function(e){"user"===(void 0===e?{}:e).reason&&(d.done(),p.abort())})),p.open(s.toUpperCase(),n,!0),p.withCredentials=t.opts.withCredentials,""!==t.opts.responseType&&(p.responseType=t.opts.responseType),Object.keys(t.opts.headers).forEach((function(e){p.setRequestHeader(e,t.opts.headers[e])})),p.send(u),e.forEach((function(e){t.uppy.emit("upload-started",e)}))}))}},{key:"uploadFiles",value:function(e){var t=this,r=e.map((function(r,o){var a=parseInt(o,10)+1,n=e.length;return r.error?Promise.reject(new Error(r.error)):r.isRemote?t.uploadRemote(r,a,n):t.upload(r,a,n)}));return Object(m.a)(r)}},{key:"onFileRemove",value:function(e,t){this.uploaderEvents[e].on("file-removed",(function(r){e===r.id&&t(r.id)}))}},{key:"onRetry",value:function(e,t){this.uploaderEvents[e].on("upload-retry",(function(r){e===r&&t()}))}},{key:"onRetryAll",value:function(e,t){var r=this;this.uploaderEvents[e].on("retry-all",(function(){r.uppy.getFile(e)&&t()}))}},{key:"onCancelAll",value:function(e,t){var r=this;this.uploaderEvents[e].on("cancel-all",(function(){r.uppy.getFile(e)&&t.apply(void 0,arguments)}))}},{key:"handleUpload",value:function(e){var t=this;if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();0!==this.opts.limit||this.opts[T.b]||this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var r=e.map((function(e){return t.uppy.getFile(e)}));if(this.opts.bundle){if(r.some((function(e){return e.isRemote})))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if("function"===typeof this.opts.headers)throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(r)}return this.uploadFiles(r).then((function(){return null}))}},{key:"install",value:function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Object(a.a)(Object(a.a)({},e),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)}},{key:"uninstall",value:function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Object(a.a)(Object(a.a)({},e),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)}}]),r}(d.a);H.VERSION="3.1.0"},673:function(e,t,r){"use strict";var o=r(6),a=r(31),n=r(1),s=r.n(n),i=r(2),u=r.n(i),p=r(14),l=r.n(p),d=r(12),c=["className","cssModule","widths","tag"],f=u.a.oneOfType([u.a.number,u.a.string]),h=u.a.oneOfType([u.a.bool,u.a.number,u.a.string,u.a.shape({size:u.a.oneOfType([u.a.bool,u.a.number,u.a.string]),order:f,offset:f})]),v={tag:d.o,xs:h,sm:h,md:h,lg:h,xl:h,className:u.a.string,cssModule:u.a.object,widths:u.a.array},m={tag:"div",widths:["xs","sm","md","lg","xl"]},y=function(e,t,r){return!0===r||""===r?e?"col":"col-"+t:"auto"===r?e?"col-auto":"col-"+t+"-auto":e?"col-"+r:"col-"+t+"-"+r},b=function(e){var t=e.className,r=e.cssModule,n=e.widths,i=e.tag,u=Object(a.a)(e,c),p=[];n.forEach((function(t,o){var a=e[t];if(delete u[t],a||""===a){var n=!o;if(Object(d.i)(a)){var s,i=n?"-":"-"+t+"-",c=y(n,t,a.size);p.push(Object(d.k)(l()(((s={})[c]=a.size||""===a.size,s["order"+i+a.order]=a.order||0===a.order,s["offset"+i+a.offset]=a.offset||0===a.offset,s)),r))}else{var f=y(n,t,a);p.push(f)}}})),p.length||p.push("col");var f=Object(d.k)(l()(t,p),r);return s.a.createElement(i,Object(o.a)({},u,{className:f}))};b.propTypes=v,b.defaultProps=m,t.a=b}}]);
//# sourceMappingURL=91.414a38db.chunk.js.map