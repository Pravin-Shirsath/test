(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[232],{2601:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var s=a(7),c=a(1),n=a(34),r=a(3),l=a(37),i=a(12),o=a(38),d=a(0);var j=function(e){var t=e.GettingImage,a=Object(c.useState)({}),n=Object(s.a)(a,2),j=n[0],m=n[1],b=Object(c.useState)(null),u=Object(s.a)(b,2),x=u[0],O=u[1];Object(c.useEffect)((function(){h()}),[]);var h=function(){var e=JSON.parse(localStorage.getItem("token"));console.log("Token",e),null!==e&&Object(o.u)(e).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(m(null===e||void 0===e?void 0:e.data),console.log("Profile Info ResponseData",null===e||void 0===e?void 0:e.data)):(null===e||void 0===e||e.status,console.log("Profile Info Response",e))})).catch((function(e){console.log(e)}))};return Object(d.jsx)("div",{className:"profile-content",children:Object(d.jsxs)("div",{className:"media align-items-center",children:[Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("img",{src:null==(null===j||void 0===j?void 0:j.profile_image)?"".concat("","/assets/images/avatars/user-15.jpg"):null==x?"".concat(l.b+j.profile_image):x,alt:"user profile",className:"rounded-circle bordered",width:"140",height:"140"}),Object(d.jsx)("i",{className:"ti-pencil rounded-circle bordered text-white",style:{position:"absolute",bottom:"6px",right:"20%",backgroundColor:"#464D69"},children:" "}),Object(d.jsx)("input",{type:"file",className:"rounded-circle bordered",onChange:function(e){Object(s.a)(e.target.files,1)[0];if(e.target.files.length){var a,c,n={preview:URL.createObjectURL(e.target.files[0]),raw:e.target.files[0]};console.log("newimg",n.raw),null!==n&&void 0!==n&&null!==(a=n.raw)&&void 0!==a&&null!==(c=a.type)&&void 0!==c&&c.includes("image")?(O(n.preview),m(Object(r.a)(Object(r.a)({},j),{},{profile_image:n.preview})),t(null===n||void 0===n?void 0:n.raw)):i.NotificationManager.error("Only image format file upload ")}},style:{position:"absolute",bottom:"6px",right:"20%",backgroundColor:"#464D69",width:"30px",height:"30px",opacity:0}})]}),Object(d.jsx)("div",{className:"media-body pt-25",children:Object(d.jsxs)("div",{className:"d-flex flex-column align-items-baseline",children:[Object(d.jsxs)("h2",{className:"user-name text-white",children:[null===j||void 0===j?void 0:j.first_name," ",null===j||void 0===j?void 0:j.last_name]}),Object(d.jsx)("h2",{children:null===j||void 0===j?void 0:j.username}),Object(d.jsx)("p",{children:null===j||void 0===j?void 0:j.email})]})})]})})},m=a(479),b=a(324),u=a(876),x=a(529),O=a(478),h=a(59),f=(a(1912),a(2357)),p=a(1913),g=a(127),N=a(63),v=a(10),y=(a(87),a(152));function S(e){var t=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).first_name),a=Object(s.a)(t,2),r=a[0],l=a[1],S=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).last_name),w=Object(s.a)(S,2),C=w[0],P=w[1],_=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).email),I=Object(s.a)(_,2),k=I[0],A=I[1],D=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).mobile_number),T=Object(s.a)(D,2),F=T[0],M=T[1],z=Object(c.useState)(""),J=Object(s.a)(z,2),q=J[0],Z=J[1],L=Object(c.useState)(""),U=Object(s.a)(L,2),R=U[0],E=U[1],$=Object(c.useState)(""),G=Object(s.a)($,2),W=G[0],B=G[1],H=Object(c.useState)(""),K=Object(s.a)(H,2),Q=K[0],V=K[1],X=Object(c.useState)(""),Y=Object(s.a)(X,2),ee=Y[0],te=Y[1],ae=Object(c.useState)(""),se=Object(s.a)(ae,2),ce=se[0],ne=se[1],re=Object(c.useState)(""),le=Object(s.a)(re,2),ie=le[0],oe=le[1],de=Object(c.useState)(""),je=Object(s.a)(de,2),me=je[0],be=je[1],ue=Object(c.useState)(""),xe=Object(s.a)(ue,2),Oe=xe[0],he=xe[1],fe=Object(c.useState)(""),pe=Object(s.a)(fe,2),ge=pe[0],Ne=pe[1],ve=Object(c.useState)(""),ye=Object(s.a)(ve,2),Se=ye[0],we=ye[1],Ce=Object(c.useState)(null),Pe=Object(s.a)(Ce,2),_e=Pe[0],Ie=Pe[1],ke=Object(c.useState)(""),Ae=Object(s.a)(ke,2),De=Ae[0],Te=(Ae[1],Object(c.useState)("")),Fe=Object(s.a)(Te,2),Me=Fe[0],ze=(Fe[1],Object(c.useState)("")),Je=Object(s.a)(ze,2),qe=Je[0],Ze=(Je[1],Object(c.useState)("")),Le=Object(s.a)(Ze,2),Ue=Le[0],Re=Le[1],Ee=Object(c.useState)(""),$e=Object(s.a)(Ee,2),Ge=$e[0],We=$e[1],Be=Object(c.useState)(""),He=Object(s.a)(Be,2),Ke=He[0],Qe=He[1],Ve=Object(c.useState)(""),Xe=Object(s.a)(Ve,2),Ye=Xe[0],et=(Xe[1],Object(c.useState)(!1)),tt=Object(s.a)(et,2),at=tt[0],st=tt[1],ct=Object(h.g)();console.log({"firstName:":r,"lastName:":C,email:k,phone:F,country:q,"zipCode:":R,"state:":W,"companyName:":Q,"billingAddress:":ee,"taxNumber:":ce,"companyAddress:":ie});return Object(d.jsxs)("div",{className:"userProfile-wrapper",children:[Object(d.jsxs)(n.a,{children:[Object(d.jsx)("title",{children:"Automaton | User Profile"}),Object(d.jsx)("meta",{name:"description",content:"User Profile"})]}),Object(d.jsx)(N.a,{title:Object(d.jsx)(v.a,{id:"sidebar.userProfile"}),match:e.match}),Object(d.jsxs)(g.a,{"data-bs-spy":"scroll",children:[Object(d.jsx)(j,{GettingImage:function(e){null!=e&&void 0!=e&&(console.log("pic=========",e),Ie(e))}}),Object(d.jsxs)(m.a,{className:"border",children:[Object(d.jsx)("section",{className:"border border-5 py-10 d-flex align-item-center justify-content-center dark-primary text-white",children:Object(d.jsx)("h2",{children:"Personal Details"})}),Object(d.jsxs)("div",{className:"edit-form",children:[Object(d.jsxs)(b.a,{row:!0,children:[Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"firstName",sm:3,className:"d-flex",children:["First Name ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(O.a,{type:"text",name:"firstname",className:"input-lg",value:r,onChange:function(e){return l(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:me})})]}),Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"lastName",sm:3,className:"d-flex",children:["Last Name ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(O.a,{type:"text",name:"lastName",className:"input-lg",value:C,onChange:function(e){return P(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Oe})})]})]}),Object(d.jsxs)(b.a,{row:!0,children:[Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"email",sm:3,className:"d-flex",children:["Email Id ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(O.a,{type:"text",name:"email",className:"input-lg",value:k,onChange:function(e){return A(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:ge})})]}),Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsx)(x.a,{for:"state",sm:3,children:"State"}),Object(d.jsx)(p.b,{classes:"w-100 form-control form-control-lg text-md",style:{fontSize:"16px",type:"text"},country:q,value:W,onChange:function(e){return B(e),console.log(e)}})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:qe})})]})]}),Object(d.jsxs)(b.a,{row:!0,children:[Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsx)(x.a,{for:"country",sm:3,children:"Country"}),Object(d.jsx)(p.a,{classes:"w-100 form-control form-control-lg text-md",value:q,onChange:function(e){return Z(e)},style:{fontSize:"17px",type:"text"}})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:De})})]}),Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsx)(x.a,{for:"zipCode",sm:3,children:"Zipcode"}),Object(d.jsx)(O.a,{type:"text",name:"zipcode",className:"input-lg",value:R,onChange:function(e){return E(e.target.value)},sm:9,disabled:!(W.length>0)})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Me})})]})]}),Object(d.jsx)(b.a,{row:!0,children:Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"phone",sm:3,className:"d-flex",children:["Phone ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(f.a,{placeholder:"Enter phone number",value:F,onChange:function(e){return M(e)},defaultCountry:"IN",className:"w-100 form-control form-control-lg text-md",limitMaxLength:!0,sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Se})})]})})]}),Object(d.jsx)("section",{className:"border border-5 py-10 d-flex align-item-center justify-content-center dark-primary text-white",children:Object(d.jsx)("h2",{children:"Company Details"})}),Object(d.jsxs)("div",{className:"edit-form",children:[Object(d.jsxs)(b.a,{row:!0,children:[Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"companyName",sm:3,className:"d-flex",children:["Company Name ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(O.a,{type:"text",name:"companyName",className:"input-lg",value:Q,onChange:function(e){return V(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Ue})})]}),Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"billingAddress",sm:3,className:"d-flex",children:["Billing Address ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(O.a,{style:{height:120},type:"textarea",name:"billingAddress",className:"input-lg",value:ee,onChange:function(e){return te(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Ge})})]})]}),Object(d.jsxs)(b.a,{row:!0,children:[Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsxs)(x.a,{for:"taxNumber",sm:3,className:"d-flex",children:["Tax Number ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(O.a,{type:"text",name:"taxNumber",className:"input-lg",value:ce,onChange:function(e){return ne(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Ke})})]}),Object(d.jsxs)(u.a,{sm:6,children:[Object(d.jsxs)(u.a,{sm:12,className:"d-flex ",children:[Object(d.jsx)(x.a,{for:"companyAddress",sm:3,children:"Company Address"}),Object(d.jsx)(O.a,{type:"textarea",style:{height:120},name:"companyAddress",className:"input-lg",value:ie,onChange:function(e){return oe(e.target.value)},sm:9})]}),Object(d.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(d.jsx)("p",{className:"error mt-0",children:Ye})})]})]}),Object(d.jsxs)(b.a,{className:"row mt-50",children:[Object(d.jsx)(u.a,{sm:6,children:Object(d.jsxs)("h4",{children:["   ",Object(d.jsx)("span",{className:"text-danger",children:"*"})," Mandatory Field"]})}),Object(d.jsx)(u.a,{sm:6,children:Object(d.jsxs)("section",{className:"row ",children:[Object(d.jsx)(u.a,{sm:6,children:Object(d.jsx)(y.a,{color:"primary",className:"btn-block text-white px-50 fw-bold bg-primary.bg-gradient",variant:"contained",size:"medium",onClick:function(){var e=new FormData,t=/^[a-zA-Z]{1,30}$/;""===k.trim()||null===F&&void 0===F||""===r.trim()||""===C.trim()||""===Q.trim()||""===ee.trim()||""===ce.trim()?(be(""),he(""),Ne(""),we(""),Re(""),Qe(""),We(""),""==k.trim()&&Ne("* This is required Field"),""==r.trim()&&be("* This is required Field"),""==C.trim()&&he("* This is required Field"),""==Q.trim()&&Re("* This is required Field"),""==ee.trim()&&We("* This is required Field"),""==ce.trim()&&Qe("* This is required Field"),null==F&&we("* This is required Field"),st(!0)):(st(!1),be(""),he(""),Ne(""),we(""),Re(""),Qe(""),We(""),""!=q&&e.append("country",q),""!=W&&e.append("state",W),""!=ie&&e.append("company_address",ie),null!=_e&&e.append("profile_image",_e),t.test(r.trim())?t.test(C.trim())?Object(f.b)(F+"".trim(""))?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(k.trim(""))?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(ce+"".trim(""))?(e.append("first_name",r),e.append("last_name",C),e.append("mobile_number",F),e.append("email",k.toLowerCase()),e.append("billing_address",ee),e.append("tax_number",ce),function(e){console.log("Profile_Details==",e);var t=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("ProfileData"));null!==t?Object(o.z)(e,t,a.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(console.log("Response from update profile:",e),st(!1),be(""),he(""),Ne(""),we(""),Re(""),Qe(""),We(""),l(""),P(""),M(""),A(""),Z(""),E(""),B(""),V(""),te(""),ne(""),oe(""),i.NotificationManager.success("Profile Updated Successfully!"),setTimeout((function(){ct.push("/")}),1e3))})).catch((function(e){var t,a,s;if(console.log("Update profile error :",null===e||void 0===e?void 0:e.response),console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data,"error data from user profile"),400===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&null!==e&&void 0!==e&&null!==(s=e.response)&&void 0!==s&&s.data){var c,n=null===e||void 0===e||null===(c=e.response)||void 0===c?void 0:c.data;for(var r in n)n.hasOwnProperty(r)&&i.NotificationManager.error(n[r])}})):i.NotificationManager.error("accessToken not found")}(e)):i.NotificationManager.error("Invalid Tax format!"):i.NotificationManager.error("Invalid email format!"):i.NotificationManager.error("Phone number must be 10 digit long!"):i.NotificationManager.error("Last name must contain only alphabet and no spacings!"):i.NotificationManager.error("First name must contain only alphabet and no spacings!"))},style:{maxWidth:"150px"},children:"Save"})}),Object(d.jsx)(u.a,{sm:6,children:Object(d.jsx)(y.a,{color:"primary",className:"btn-block px-50 py-2 text-white fw-bold btn-danger",variant:"contained",size:"medium",onClick:function(){ct.push("/")},style:{maxWidth:"150px"},children:"Cancel"})})]})})]})]})]})]})]})}}}]);
//# sourceMappingURL=232.9aa5d13c.chunk.js.map