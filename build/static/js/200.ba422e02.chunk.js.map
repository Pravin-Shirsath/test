{"version":3,"sources":["Components/Widgets/WeatherV2.js"],"names":["getIcon","id","WeatherWidgets","props","useState","weatherData","setWeatherData","city","useEffect","axios","get","then","response","data","catch","error","console","log","className","name","moment","format","list","weather","temp","day","elements","i","length","ele","dt","max","main","push","renderFiveDayForecast"],"mappings":"mKAQA,SAASA,EAAQC,GACf,OAAQA,GACN,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,sBACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,eACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,sBACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,iBACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,gBACT,KAAY,MAAPA,EACH,MAAO,kBACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,4BACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,mBACT,KAAY,MAAPA,GAAeA,GAAM,KAAOA,GAAM,IACrC,MAAO,kBACT,KAAKA,GAAM,KAAOA,EAAK,IACrB,MAAO,sBAIb,CAiEeC,UA9Df,SAAwBC,GACrB,MAAsCC,mBAAS,MAAK,mBAA7CC,EAAW,KAAEC,EAAc,KAC5BC,EAAOJ,EAAMI,KAAOJ,EAAMI,KAAO,WAiCvC,OA/BAC,qBAAU,WAGPC,IAAMC,IAAI,4DAA8DH,EAA9D,iHACNI,MAAK,SAAAC,GACHN,EAAeM,EAASC,KAC3B,IACCC,OAAM,SAAAC,GACJC,QAAQC,IAAI,kCAAmCF,EAClD,GACN,GAAG,CAACR,IAsBD,eAAC,WAAQ,WACN,qBAAKW,UAAU,6DAA4D,SACvD,OAAhBb,GACD,sBAAKa,UAAU,mCAAkC,UAC9C,sBAAKA,UAAU,oDAAmD,UAC/D,sBAAKA,UAAU,oBAAmB,UAClC,6BAAKb,EAAYE,KAAKY,OACtB,+BAAOC,MAASC,OAAO,qBAEvB,mBAAGH,UAAWlB,EAAQK,EAAYiB,KAAK,GAAGC,QAAQ,GAAGtB,SAExD,qBAAKiB,UAAU,eAAc,SAC1B,+BAAKb,EAAYiB,KAAK,GAAGE,KAAKC,IAAI,8BAAK,oBAKhD,qBAAKP,UAAU,iBAAgB,SAC5B,oBAAIA,UAAU,mBAAkB,SArCX,WAC3B,IAAIQ,EAAW,GACf,GAAIrB,EACD,IAAK,IAAIsB,EAAI,EAAGA,EAAItB,EAAYiB,KAAKM,OAAQD,IAAK,CAClD,IAAMJ,EAAUlB,EAAYiB,KAAKK,GAC7BE,EAAM,qBAAIX,UAAU,oDAAmD,UACxE,uBAAMA,UAAU,OAAM,UAAEX,EAAK,KAAGa,IAAoB,IAAbG,EAAQO,IAAWT,OAAO,kBACjE,qBAAKH,UAAU,SAAQ,SACpB,mBAAGA,UAAWlB,EAAQuB,EAAQA,QAAQ,GAAGtB,QAE5C,uBAAMiB,UAAU,UAAS,UAAEK,EAAQC,KAAKO,IAAI,8BAAK,aACjD,sBAAMb,UAAU,UAAS,SAAEK,EAAQA,QAAQ,GAAGS,SANgCT,EAAQO,IAQzFJ,EAASO,KAAKJ,EACd,CAEH,OAAOH,CACV,CAqBUQ,SAKb,C","file":"static/js/200.ba422e02.chunk.js","sourcesContent":["/**\n * Weather V2 Widget\n */\nimport React, { useState, Fragment, useEffect } from 'react';\nimport moment from 'moment';\nimport axios from 'axios';\n\n// function to get today weather icon\nfunction getIcon(id) {\n  switch (id) {\n    case id >= 200 && id < 300:\n      return 'wi wi-night-showers'\n    case id >= 300 && id < 500:\n      return 'wi day-sleet';\n    case id >= 500 && id < 600:\n      return 'wi wi-night-showers';\n    case id >= 600 && id < 700:\n      return 'wi wi-day-snow';\n    case id >= 700 && id < 800:\n      return 'wi wi-day-fog';\n    case id === 800:\n      return 'wi wi-day-sunny';\n    case id >= 801 && id < 803:\n      return 'wi wi-night-partly-cloudy';\n    case id >= 802 && id < 900:\n      return 'wi wi-day-cloudy';\n    case id === 905 || (id >= 951 && id <= 956):\n      return 'wi wi-day-windy';\n    case id >= 900 && id < 1000:\n      return 'wi wi-night-showers'\n    default:\n      break;\n  }\n}\n\n// Main component\nfunction WeatherWidgets(props) {\n   const [weatherData, setWeatherData] = useState(null);\n   const city = props.city ? props.city : 'New York';\n   \n   useEffect(() => {\n      var appid = 'b1b15e88fa797225412429c1c50c122a1'; // Your api id\n      var apikey = '69b72ed255ce5efad910bd946685883a'; //Your apikey\n      axios.get('https://api.openweathermap.org/data/2.5/forecast/daily?q=' + city + '&cnt=5&units=metric&mode=json&appid=' + appid + '&apikey=' + apikey)\n         .then(response => {\n            setWeatherData(response.data);\n         })\n         .catch(error => {\n            console.log('Error fetching and parsing data', error);\n         });\n   }, [city])\n   \n\n   const renderFiveDayForecast = () => {\n      let elements = [];\n      if (weatherData) {\n         for (let i = 1; i < weatherData.list.length; i++) {\n         const weather = weatherData.list[i];\n         let ele = <li className=\"d-flex justify-content-between align-items-center\" key={weather.dt}>\n            <span className=\"w-50\">{city}, {moment(weather.dt * 1000).format('ddd DD MMMM')}</span>\n            <div className=\"w-icon\">\n               <i className={getIcon(weather.weather[0].id)}></i>\n            </div>\n            <span className=\"d-block\">{weather.temp.max}<sup>°C</sup></span>\n            <span className=\"d-block\">{weather.weather[0].main}</span>\n         </li>;\n         elements.push(ele);\n         }\n      }\n      return elements;\n   }\n   return (\n      <Fragment>\n         <div className=\"weather-top rct-weather-widget overflow-hidden rounded-top\">\n            {weatherData !== null &&\n            <div className=\"black-overlay weather-over py-20\">\n               <div className=\"weather-head mb-20 d-flex justify-content-between\">\n                  <div className=\"align-items-start\">\n                  <h4>{weatherData.city.name}</h4>\n                  <span>{moment().format('ddd, HH:mm A')}</span>\n                  </div>\n                  <i className={getIcon(weatherData.list[0].weather[0].id)}></i>\n               </div>\n               <div className=\"weather-temp\">\n                  <h2>{weatherData.list[0].temp.day}<sup>°C</sup></h2>\n               </div>\n            </div>\n            }\n         </div>\n         <div className=\"weather-bottom\">\n            <ul className=\"list-inline mb-0\">\n            {renderFiveDayForecast()}\n            </ul>\n         </div>\n      </Fragment>\n   )\n}\n\nexport default WeatherWidgets;"],"sourceRoot":""}