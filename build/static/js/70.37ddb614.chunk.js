(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[70],{1538:function(e,t,s){},2476:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return v}));var a=s(10),c=(s(1538),s(1)),l=s(41),n=s(65),i=s(68),o=s(16),r=s(51),d=s(116),u=(s(186),s(327)),j=s(42),p=s(21),b=s(0);function v(e){Object(n.g)();var t=Object(c.useState)(!1),s=Object(a.a)(t,2),v=s[0],h=(s[1],Object(c.useState)([])),O=Object(a.a)(h,2),m=(O[0],O[1]),g=Object(c.useState)([]),f=Object(a.a)(g,2),x=f[0],N=(f[1],Object(c.useState)(0)),y=Object(a.a)(N,2),S=(y[0],y[1],Object(c.useState)(null)),w=Object(a.a)(S,2),I=w[0],_=w[1],C=Object(c.useState)(0),R=Object(a.a)(C,2),k=R[0],J=R[1],B=Object(c.useState)(0),M=Object(a.a)(B,2),A=(M[0],M[1],Object(c.useState)(0)),P=Object(a.a)(A,2),G=P[0],D=P[1],E=Object(c.useState)(JSON.parse(localStorage.getItem("Couponcode"))||""),L=Object(a.a)(E,2),V=L[0],F=L[1],T=Object(c.useState)(0),W=Object(a.a)(T,2),q=W[0],z=W[1],H=Object(c.useState)(JSON.parse(localStorage.getItem("Discount"))||{discount_value:0,discount_type:""}),K=Object(a.a)(H,2),Q=K[0];K[1];Object(c.useEffect)((function(){localStorage.getItem("isLoggedIn");U()}),[]);var U=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(j.n)(e,1).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)){var t,s,a,c,l;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.results)if(void 0!=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results))if(1==(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.results.length))_(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.results[0]);m(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.results),console.log("Response fromRecharged list :",e)}else console.log("Response from fromRecharged:",e)})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))};Object(c.useEffect)((function(){!function(){if(""===Q.discount_type)z(0);else if("amount"===Q.discount_type)Q.discount_value<=G?z(parseInt(Q.discount_value)):(z(0),0!=G&&p.NotificationManager.error("coupon can not be applied below ".concat(parseInt(Q.discount_value)," rupees")));else if("percentage"==Q.discount_type)if(0!=G){var e=parseInt(G)*(parseInt(Q.discount_value)/100);z(e)}else z(0)}()}),[G]);var X=function(){return G>=q?parseInt(G)-parseInt(q):parseInt(G)};return Object(b.jsxs)("div",{className:"user-management",children:[Object(b.jsxs)(l.a,{children:[Object(b.jsx)("title",{children:"Automaton | Customers List"}),Object(b.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(b.jsx)(i.a,{title:Object(b.jsx)(o.a,{id:"sidebar.recharge"}),match:e.match}),Object(b.jsx)("div",{className:"row ",children:x&&x.map((function(e,t){return Object(b.jsx)(r.a,{colClasses:"col-sm-12 col-md-3 col-lg-3  rounded",fullBlock:!0,children:Object(b.jsx)("div",{className:"shadow project-card-shadow",children:Object(b.jsx)("section",{className:"bg-primary text-white px-3 shadow rounded d-flex  align-items-center py-3 ",children:Object(b.jsxs)("div",{className:"ml-4  align-items-center ",children:[Object(b.jsxs)("h2",{className:"",children:[null===e||void 0===e?void 0:e.subscription_name," "]}),Object(b.jsxs)("h3",{children:[e.per_gb_rate," \u20b9 / GB "]})]})})})},t)}))}),Object(b.jsxs)(r.a,{fullBlock:!0,children:[Object(b.jsx)("div",{className:"table-responsive dark-primary-text",children:Object(b.jsxs)("div",{className:"rechargeBoxContainer",children:[Object(b.jsx)("div",{className:"heading dark-primary",children:Object(b.jsx)("h1",{children:"Recharge"})}),Object(b.jsxs)("div",{className:"firstRow recharge-modal-row light-primary",children:[Object(b.jsx)("div",{className:"left",children:Object(b.jsxs)("p",{className:"wrapper",children:[Object(b.jsx)("p",{className:"text",children:"Additional Space"})," ",Object(b.jsxs)("p",{className:"inputMaterial",children:[Object(b.jsx)("input",{type:"number",value:k,onChange:function(e){return function(e){if(console.log(e,typeof e,isNaN(e)),(!isNaN(e)||""===e)&&(parseFloat(e)<0?(D(0),J(0),p.NotificationManager.error("Value cannot be negative. Please enter a valid Value."),console.log("")):J(e),I)){var t=parseInt(e)*parseInt(null===I||void 0===I?void 0:I.per_gb_rate);console.log(t,"total"),isNaN(t)?D(0):D(parseInt(t))}}(e.target.value)}})," GB ",Object(b.jsxs)("span",{className:"diff",children:["@",null===I||void 0===I?void 0:I.per_gb_rate," \u20b9 / GB"]})]})]})}),Object(b.jsx)("div",{className:"mid",children:Object(b.jsx)("p",{children:"="})}),Object(b.jsx)("div",{className:"right",children:Object(b.jsxs)("p",{children:[G," \u20b9"]})})]}),Object(b.jsxs)("div",{className:"secondRow recharge-modal-row light-primary",children:[Object(b.jsx)("div",{className:"left",children:Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"inputContainer",children:Object(b.jsx)("input",{value:V,onChange:function(e){return F(e.target.value)}})})," ",Object(b.jsx)(u.a,{onClick:function(){var e=JSON.parse(localStorage.getItem("token"));""!=V?null!==e&&Object(j.f)(e,V).then((function(e){var t,s;(console.log("coupan=",e),200===(null===e||void 0===e?void 0:e.status))?null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t[0]&&(localStorage.setItem("Discount",JSON.stringify(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s[0])),localStorage.setItem("Couponcode",JSON.stringify(V)),p.NotificationManager.Success("Copon Apply")):console.log("Response from fromRecharged:",e)})).catch((function(e){var t,s,a,c;if((console.log("Response from customerlist:",e),403===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||400===(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status))&&(null!==e&&void 0!==e&&null!==(c=e.response)&&void 0!==c&&c.data)){var l,n=null===e||void 0===e||null===(l=e.response)||void 0===l?void 0:l.data;for(var i in n)n.hasOwnProperty(i)&&p.NotificationManager.error(n[i])}null===e||void 0===e||null===(a=e.response)||void 0===a||a.status})):p.NotificationManager.error("Coupon code is empty")},color:"primary",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Apply Coupon"})]})}),Object(b.jsx)("div",{className:"mid",children:Object(b.jsx)("p",{children:"="})}),Object(b.jsx)("div",{className:"right",children:Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"operator",children:"-"}),q," \u20b9"]})})]}),Object(b.jsxs)("div",{className:"thirdRow recharge-modal-row light-primary",children:[Object(b.jsx)("div",{className:"left"}),Object(b.jsx)("div",{className:"mid"}),Object(b.jsx)("div",{className:"right",children:Object(b.jsxs)("p",{children:[" ",X()," \u20b9"]})})]}),Object(b.jsx)("div",{className:"fourthRow recharge-modal-row light-primary",children:Object(b.jsxs)("p",{children:["Net Payable ",Object(b.jsxs)("span",{children:[X()," \u20b9"]})]})}),Object(b.jsx)("div",{className:"fifthRow recharge-modal-row light-primary",children:Object(b.jsx)("p",{children:Object(b.jsx)(u.a,{color:"primary",style:{padding:"10px 50px"},children:"Proceed To Checkout"})})})]})}),v&&Object(b.jsx)(d.a,{})]})]})}}}]);
//# sourceMappingURL=70.37ddb614.chunk.js.map