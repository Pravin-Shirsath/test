(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[204],{2596:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return M}));var n=t(16),i=t(3),s=t(7),l=t(1),r=t(34),o=t(152),c=t(542),d=t(534),u=t(531),m=t(532),j=t(478),b=t(322),h=t(528),O=t(477),f=t(479),v=t(481),x=t(12),p=t(141),g=t.n(p),N=t(59),y=(t(169),t(0)),C=function(e){var a=e.addNewUserDetails,t=e.onChangeAddNewUserDetails;return Object(y.jsxs)(j.a,{className:"addNewCustomerForm",children:[Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"userName",children:"Username"}),Object(y.jsx)(O.a,{type:"text",name:"userName",id:"userName",placeholder:"Enter Username",value:a.name,onChange:function(e){return t("username",e.target.value)}})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"userEmail",children:"Email"}),Object(y.jsx)(O.a,{type:"email",name:"userEmail",id:"userEmail",placeholder:"Enter Email",value:a.email,onChange:function(e){return t("email",e.target.value)}})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(y.jsx)(O.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:a.first_name,onChange:function(e){return t("first_name",e.target.value)}})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(y.jsx)(O.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:a.last_name,onChange:function(e){return t("last_name",e.target.value)}})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(y.jsx)(O.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:a.mobile_number,onChange:function(e){return t("mobile_number",e.target.value)}})]})]})},_=(t(63),t(10),t(46)),S=t(108),w=(t(170),t(37));function M(e){Object(N.g)(),Object(l.useRef)();var a=Object(l.useState)([{id:1,user:"Ram",email:"ram123@gmail.com",phone:"1234567890"},{id:2,user:"Shyam",email:"shyam123@gmail.com",phone:"5678123450"},{id:3,user:"Arjun",email:"arjun123@gmail.com",phone:"9101112764"},{id:4,user:"Shree",email:"shree123@gmail.com",phone:"0123410238"},{id:5,user:"Laxmi",email:"laxmi123@gmail.com",phone:"4321347629"},{id:6,user:"Laxman",email:"laxman123@gmail.com",phone:"4321347629"},{id:7,user:"Vishnu",email:"vishnu123@gmail.com",phone:"4321347629"},{id:8,user:"Ganesh",email:"ganesh123@gmail.com",phone:"4321347629"},{id:9,user:"Mahesh",email:"mahesh123@gmail.com",phone:"4321347629"}]),t=Object(s.a)(a,2),p=t[0],M=t[1],k=Object(l.useState)([{id:1,user:"Ram",email:"ram123@gmail.com",phone:"1234567890"},{id:2,user:"Shyam",email:"shyam123@gmail.com",phone:"5678123450"},{id:3,user:"Arjun",email:"arjun123@gmail.com",phone:"9101112764"},{id:4,user:"Shree",email:"shree123@gmail.com",phone:"0123410238"},{id:5,user:"Laxmi",email:"laxmi123@gmail.com",phone:"4321347629"},{id:6,user:"Laxman",email:"laxman123@gmail.com",phone:"4321347629"},{id:7,user:"Vishnu",email:"vishnu123@gmail.com",phone:"4321347629"},{id:8,user:"Ganesh",email:"ganesh123@gmail.com",phone:"4321347629"},{id:9,user:"Mahesh",email:"mahesh123@gmail.com",phone:"4321347629"}]),E=Object(s.a)(k,2),L=E[0],U=E[1],I=Object(l.useState)(null),R=Object(s.a)(I,2),A=R[0],D=(R[1],Object(l.useState)(!1)),F=Object(s.a)(D,2),J=F[0],P=F[1],z=Object(l.useState)(!1),$=Object(s.a)(z,2),T=$[0],B=$[1],G=Object(l.useState)(!1),V=Object(s.a)(G,2),W=V[0],Z=V[1],q=Object(l.useState)(!1),H=Object(s.a)(q,2),K=H[0],Q=H[1],X=Object(l.useState)(""),Y=Object(s.a)(X,2),ee=Y[0],ae=Y[1],te=Object(l.useState)(1),ne=Object(s.a)(te,2),ie=ne[0],se=ne[1],le=Object(l.useState)(""),re=Object(s.a)(le,2),oe=re[0],ce=re[1],de=Object(l.useState)({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),ue=Object(s.a)(de,2),me=ue[0],je=ue[1],be=Object(l.useState)({first_name:"",last_name:"",mobile_number:""}),he=Object(s.a)(be,2),Oe=(he[0],he[1],Object(l.useState)(!1)),fe=Object(s.a)(Oe,2),ve=fe[0],xe=fe[1],pe=Object(l.useState)(null),ge=Object(s.a)(pe,2),Ne=(ge[0],ge[1],Object(l.useState)(0)),ye=Object(s.a)(Ne,2),Ce=(ye[0],ye[1],Object(l.useState)()),_e=Object(s.a)(Ce,2);_e[0],_e[1];Object(l.useEffect)((function(){localStorage.getItem("isLoggedIn");Se()}),[]);var Se=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(w.j)(e,ie).then((function(e){var a,t,n;200===(null===e||void 0===e?void 0:e.status)&&(M(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),U(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),ce(parseInt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)))})).catch((function(e){var a;null===e||void 0===e||null===(a=e.response)||void 0===a||a.status}))},we=function(e,a){je(Object(i.a)(Object(i.a)({},me),{},Object(n.a)({},e,a)))},Me=function(){B(!1),je({username:"",email:"",first_name:"",last_name:"",mobile_number:""})};return Object(y.jsxs)("div",{className:"user-management",children:[Object(y.jsxs)(r.a,{children:[Object(y.jsx)("title",{children:"Automaton | Customers List"}),Object(y.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(y.jsxs)(_.a,{fullBlock:!0,children:[Object(y.jsxs)("div",{className:"table-responsive",children:[Object(y.jsxs)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:[Object(y.jsxs)("div",{className:"search-row",children:[Object(y.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:ee,onChange:function(e){return ae(e.target.value)}}),Object(y.jsx)("button",{style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px",cursor:"pointer"},className:"btn-block py-2 m-auto",onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(w.m)(e,ee).then((function(e){var a,t;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results.length)>0?(U(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),ae("")):(U(p),ae(""),x.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]}),Object(y.jsxs)("button",{onClick:function(e){return function(e){e.preventDefault(),B(!0)}(e)},style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px",cursor:"pointer"},className:"py-2 px-2",children:[Object(y.jsx)("i",{className:"zmdi zmdi-plus"})," Users"]})]}),Object(y.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{}),Object(y.jsx)("th",{children:"No"}),Object(y.jsx)("th",{children:"User"}),Object(y.jsx)("th",{children:"Email"}),Object(y.jsx)("th",{children:"Phone"}),Object(y.jsx)("th",{children:"Action"})]})}),Object(y.jsx)("tbody",{children:L&&L.map((function(e,a){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{}),Object(y.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(y.jsx)("td",{children:Object(y.jsx)("div",{className:"media",children:Object(y.jsx)("div",{className:"media-body",children:Object(y.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.user})})})}),Object(y.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(y.jsx)("td",{children:null!==e&&void 0!==e&&e.phone?null===e||void 0===e?void 0:e.phone:"-"}),Object(y.jsxs)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:[Object(y.jsx)("a",{href:"#",style:{cursor:"pointer",color:"blue",fontSize:"15px"},children:"Unable"}),Object(y.jsx)("span",{children:"/"}),Object(y.jsx)("a",{href:"#",style:{cursor:"pointer",color:"blue",fontSize:"15px"},children:"Disable"})]})]},a)}))})]}),(null===p||void 0===p?void 0:p.length)>0&&Object(y.jsx)("div",{className:"paginationDiv",children:Object(y.jsx)(g.a,{activePage:ie,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(ie!==e){var a=JSON.parse(localStorage.getItem("token"));null!==a&&Object(w.j)(a,e).then((function(e){var a,t,n;200===(null===e||void 0===e?void 0:e.status)&&(M(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),U(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),ce(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count))})).catch((function(e){})),se(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:oe})})]}),J&&Object(y.jsx)(S.a,{})]}),Object(y.jsxs)(c.a,{isOpen:T,toggle:function(){return Me()},className:"addCustomerModal",children:[Object(y.jsx)(d.a,{toggle:function(){return Me()},children:Object(y.jsx)("strong",{children:"Welcome"})}),Object(y.jsx)(u.a,{children:Object(y.jsx)(C,{addNewUserDetails:me,onChangeAddNewUserDetails:we})}),Object(y.jsxs)(m.a,{style:{display:"flex",justifyContent:"space-between",padding:"20px 50px"},children:[Object(y.jsx)(o.a,{variant:"contained",onClick:function(){return function(){var e=me.username,a=me.email,t=me.first_name,n=me.last_name,i=me.mobile_number,s=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==a&&""!==t&&""!==n&&""!==i)if(!0===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a.trim("")))if(!0===s.test(t.trim("")))if(!0===s.test(n.trim("")))if(!0===/^\d{10}$/.test(i)){var l=JSON.parse(localStorage.getItem("token"));null!==l&&Object(w.c)(l,e.toLowerCase(),a.toLowerCase(),t,n,i).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(B(!1),P(!0),setTimeout((function(){var a;P(!1),Se(),x.NotificationManager.success(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)}),2e3),je({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from addcustomer:",e))})).catch((function(e){var a,t;if(400===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)){var n,i,s,l,r,o,c=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i||null===(s=i.email)||void 0===s?void 0:s[0],d=null===e||void 0===e||null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r||null===(o=r.username)||void 0===o?void 0:o[0];c&&d?(x.NotificationManager.error(c),x.NotificationManager.error(d)):c?x.NotificationManager.error(c):d&&x.NotificationManager.error(d)}else 500===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&x.NotificationManager.error("Internal server error !")}))}else x.NotificationManager.error("Mobile Number must be 10 digits!");else x.NotificationManager.error("Last name must contain only alphabet and no spacings!");else x.NotificationManager.error("First name must contain only alphabet and no spacings!");else x.NotificationManager.error("Invalid email address format!");else x.NotificationManager.error("Please provide all customer details")}()},className:"py-2",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},children:"Send"}),Object(y.jsx)(o.a,{variant:"contained",onClick:function(){return Me()},className:"py-2 px-3",style:{backgroundColor:"#E0E0E0",color:"#000",borderRadius:"6px",cursor:"pointer"},children:"Cancel"})]})]}),Object(y.jsxs)(c.a,{isOpen:W,className:"addCustomerModal",children:[Object(y.jsx)(d.a,{toggle:function(){return Z(!1)},children:"Update Customer"}),Object(y.jsx)(u.a,{children:Object(y.jsxs)(j.a,{children:[Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(y.jsx)(O.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:me.first_name,onChange:function(e){return we("first_name",e.target.value)}})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(y.jsx)(O.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:me.last_name,onChange:function(e){return we("last_name",e.target.value)}})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(y.jsx)(O.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:me.mobile_number,onChange:function(e){return we("mobile_number",e.target.value)}})]})]})}),Object(y.jsxs)(m.a,{children:[Object(y.jsx)(o.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",onClick:function(){var e=me.first_name,a=me.last_name,t=me.mobile_number,n=me.id,i=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==a&&""!==t)if(!0===i.test(e))if(!0===i.test(a))if(!0===/^\d{10}$/.test(t)){var s=JSON.parse(localStorage.getItem("token"));null!==s&&Object(w.v)(s,e,a,t,n).then((function(e){if(200===(null===e||void 0===e?void 0:e.status))Z(!1),P(!0),setTimeout((function(){P(!1),Se(),x.NotificationManager.success("Updated user successfully!")}),2e3),je({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from updatecustomer:",e);else if(400===(null===e||void 0===e?void 0:e.status)){var a,t;B(!1),x.NotificationManager.error(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.email,null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.username)}else B(!1),x.NotificationManager.error("Error while updating customer")})).catch((function(e){x.NotificationManager.error("Error while updating customer")}))}else x.NotificationManager.error("Mobile Number must be 10 digits!");else x.NotificationManager.error("Last name must contain only alphabet and no spacings!");else x.NotificationManager.error("First name must contain only alphabet and no spacings!");else x.NotificationManager.error("Please provide all customer details")},children:"Update"}),Object(y.jsx)(o.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){Z(!1),je({username:"",email:"",first_name:"",last_name:"",mobile_number:""})},children:"Cancel"})]})]}),Object(y.jsxs)(c.a,{isOpen:K,className:"addCustomerModal",children:[Object(y.jsxs)(u.a,{children:["Are you sure want to delete ",null===A||void 0===A?void 0:A.username," ?"]}),Object(y.jsxs)(m.a,{children:[Object(y.jsx)(o.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",onClick:function(){var e=A.id,a=JSON.parse(localStorage.getItem("token"));null!==a&&Object(w.g)(a,e).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(Q(!1),P(!0),setTimeout((function(){P(!1),Se(),x.NotificationManager.success("User successfully deleted !! ")}),2e3)):(null===e||void 0===e||e.status,Q(!1),x.NotificationManager.error("Error while deleting customer"))})).catch((function(e){Q(!1),x.NotificationManager.error("Error while deleting customer")}))},children:"Delete"}),Object(y.jsx)(o.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){return Q(!1)},children:"Cancel"})]})]}),Object(y.jsx)(f.a,{onClose:function(){return xe(!1)},open:ve,children:Object(y.jsx)(v.a,{className:"view_profile",children:null!==A&&Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"clearfix",children:Object(y.jsx)("div",{className:"media pull-left",children:Object(y.jsxs)("div",{className:"media-body",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Username : "}),Object(y.jsx)("span",{className:"fw-bold",children:A.username})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"First Name : "}),Object(y.jsx)("span",{className:"fw-bold",children:A.first_name})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Last Name : "}),Object(y.jsx)("span",{className:"fw-bold",children:A.last_name})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Email : "}),Object(y.jsx)("span",{className:"fw-bold",children:A.email})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Contact Number : "}),Object(y.jsx)("span",{className:"fw-bold",children:A.mobile_number})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"User Type : "}),Object(y.jsx)("span",{className:"badge badge-warning",children:A.user_type})]})]})})})})})})]})}}}]);
//# sourceMappingURL=204.822e3f06.chunk.js.map