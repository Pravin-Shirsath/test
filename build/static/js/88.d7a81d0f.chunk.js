(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[88],{1540:function(e,t,a){},2482:function(e,t,a){"use strict";a.r(t);var o=a(15),n=a(29),s=a(10),c=(a(1540),a(116)),l=a(1541),i=a.n(l),r=a(68),d=a(51),u=a(41),p=a(65),j=a(16),m=a(1),f=a(354),g=a(667),x=a(562),b=a(511),h=a(327),O=(a(31),a(21)),v=a(42),y=a(61),N=(a(234),a(235),a(236),a(150),a(134),a(2426),a(2427)),w=a(0),S=a(150).DashboardModal;t.default=function(e){var t=Object(p.g)(),a=Object(m.useState)(!1),l=Object(s.a)(a,2),C=l[0],k=(l[1],Object(m.useState)("")),D=Object(s.a)(k,2),I=D[0],A=D[1],T=Object(m.useState)(""),U=Object(s.a)(T,2),M=U[0],H=U[1],J=Object(m.useState)(),P=Object(s.a)(J,2),_=P[0],z=P[1],B=Object(m.useState)(),E=Object(s.a)(B,2),q=E[0],F=E[1],G=Object(m.useState)(!0),R=Object(s.a)(G,2),V=R[0],W=R[1];console.log(I,"Dataset name"),console.log(M,"Commmenttt");var K=function(){var e=Object(n.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("token")),JSON.parse(localStorage.getItem("projId")),void 0===_?((a=new y.c({autoProceed:!1,debug:!0,allowMultipleUploads:!0,methods:["OPTIONS","GET","POST","PATCH","PUT"],exposedHeaders:["Access-Control-Allow-Headers"],allowedHeaders:["uppy-auth-token","Content-Type","Authorization","Uppy-Versions","Accept","dataset_id","id"]}).use(N.a,{getChunkSize:function(){return 5242880},getUploadId:function(e){return"".concat(e.id,"-").concat(Date.now())},partSize:5242880,retryDelays:[0,1e3,3e3,5e3],companionHeaders:{"uppy-auth-token":t+"@@252"},companionUrl:"https://api-automaton.progfeel.co.in/api/automaton/file-uploads/upload-project-video/"})).on("file-added",(function(e){console.log("Added file",e)})),a.on("complete",(function(e){console.log("Upload result:",e)})),a.on("upload-success",(function(e,t){console.log("upload-success")})),a.on("upload-error",(function(e,t,a){console.log("error===",e,t,a),t.isNetworkError&&console.log("error===",t)})),F(a),z(!0)):z(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(_,"open"),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(u.a,{children:[Object(w.jsx)("title",{children:"Automaton | Create Dataset"}),Object(w.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(w.jsx)(r.a,{title:Object(w.jsx)(j.a,{id:"sidebar.createDataset"}),match:e.match}),void 0!=q&&Object(w.jsx)(S,{uppy:q,open:_,target:document.body,onRequestClose:function(){return z(!1)}}),Object(w.jsxs)(d.a,{fullBlock:!0,children:[Object(w.jsx)("div",{style:{padding:"80px",alignItems:"center",justifyContent:"center",display:"flex"},children:Object(w.jsx)("div",{className:"user-profile-widget box-shadow-box",style:{width:"60%",backgroundColor:"white"},children:Object(w.jsx)("div",{className:"p-20",children:Object(w.jsxs)("div",{style:{marginTop:"30px"},children:[Object(w.jsx)(f.a,{row:!0,children:Object(w.jsxs)(g.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(w.jsx)(x.a,{for:"firstName",sm:3,className:"d-flex ",children:Object(w.jsxs)("span",{children:["Dataset Name",Object(w.jsx)("span",{className:"text-danger madatory-field",children:"*"})]})}),Object(w.jsx)(b.a,{type:"text",className:"input-md",sm:10,onChange:function(e){A(e.target.value)},value:I})]})}),Object(w.jsx)(f.a,{row:!0,children:Object(w.jsxs)(g.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(w.jsx)(x.a,{for:"firstName",sm:3,className:"d-flex primary-dark",children:Object(w.jsx)("span",{children:" Comment"})}),Object(w.jsx)(b.a,{type:"text",style:{height:"100px"},value:M,onChange:function(e){H(e.target.value)},sm:10})]})}),Object(w.jsxs)("div",{className:"d-flex align-items-center justify-content-end",style:{marginTop:"30px",marginBottom:"30px"},children:[Object(w.jsx)(h.a,{variant:"contained",color:"primary",style:{width:"100px",padding:"7px 5px"},className:"projectCardButton mx-2",onClick:function(){var e=JSON.parse(localStorage.getItem("token")),t=localStorage.getItem("projId");null!==e&&t&&I&&(console.log(e,typeof e,"autthhh token"),Object(v.w)(e,t,I).then((function(e){var t,a,o,n;if(console.log(e,"resss in handle save function"),console.log(null===e||void 0===e?void 0:e.data,"ress dataaa i n handle save function"),200==(null===e||void 0===e?void 0:e.status))if("string"==typeof(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))O.NotificationManager.error(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message);else if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(o=a.message)&&void 0!==o&&o.Dataset_created){var s,c,l,i,r,d;localStorage.setItem("projId",null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.message)||void 0===c||null===(l=c.Dataset_created)||void 0===l?void 0:l.project_id),localStorage.setItem("datasetid",null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.message)||void 0===r||null===(d=r.Dataset_created)||void 0===d?void 0:d.id),W(!1),O.NotificationManager.success("Dataset created !")}else O.NotificationManager.error("Dataset create process failed!");else O.NotificationManager.error("Dataset create process failed!")})).catch((function(e){console.log("Dataset create error",e)})))},children:"Save"}),Object(w.jsx)(h.a,{variant:"contained",color:"danger",style:{width:"100px",padding:"7px 5px"},className:"mx-2 d-flex justify-content-center align-items-center",onClick:function(){return t.push("/app/dashboard/project")},children:"Cancel"}),Object(w.jsxs)(h.a,{variant:"contained",color:"primary",style:{width:"100px",padding:"7px 5px"},disabled:V,className:"mx-2 d-flex justify-content-center align-items-center",onClick:function(){return K()},children:[Object(w.jsx)(i.a,{}),"Upload"]})]})]})})})}),C&&Object(w.jsx)(c.a,{})]})]})}}}]);
//# sourceMappingURL=88.d7a81d0f.chunk.js.map