{"version":3,"sources":["Routes/dashboard/rechargeModal/index.js"],"names":["Recharge","props","useHistory","useState","loading","setRecharge","filteredRecharges","selectedPlan","setSelectedPlan","setAdditionalspace","amountTotal","setAmountTotal","useEffect","localStorage","getItem","RechargePlan","accessToken","JSON","parse","GetRechargedPlan","then","res","status","data","results","undefined","length","console","log","catch","err","response","className","name","content","title","id","match","map","item","i","colClasses","fullBlock","subscription_name","per_gb_rate","type","onChange","e","parseInt","alert","AddspceEvent","target","value","color","style","display","justifyContent","alignItems","padding"],"mappings":"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","file":"static/js/69.f5722883.chunk.js","sourcesContent":["import \"./recharge.css\"\n\n/**\n * User Management Page\n */\nimport React, { useEffect, useState, useRef } from 'react'\nimport { Helmet } from 'react-helmet'\n\nimport { Link, useHistory } from 'react-router-dom';\n \n// page title bar\nimport PageTitleBar from '../../../Components/PageTitleBar/PageTitleBar'\n// intl messages\nimport IntlMessages from '../../../Util/IntlMessages'\n// rct card box\nimport RctCollapsibleCard from '../../../Components/RctCollapsibleCard/RctCollapsibleCard'\n// rct section loader\nimport RctSectionLoader from '../../../Components/RctSectionLoader/RctSectionLoader'\nimport '../../../Assets/css/user.css'\n\nimport {\n  Progress, Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormText,\n  Col,\n  FormFeedback, CustomInput\n} from 'reactstrap';\nimport { GetRechargedPlan } from \"Api\";\n\nexport default function Recharge(props) {\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false)\n  const [recharge, setRecharge] = useState([])\n  const [filteredRecharges, setFilteredRecharges] = useState([])\n  const [totalPageCount, setTotalPageCount] = useState(0)\n  const [selectedPlan,setSelectedPlan]=useState(null)\n \n  const [additionalspace,setAdditionalspace]=useState(0)\n  const [paybleAmount,setPaybleAmount]=useState(0)\n  const [amountTotal,setAmountTotal]=useState(0)\n\n\n\n  useEffect(() => {\n    const isLoggedInBool = localStorage.getItem(\"isLoggedIn\")\n    RechargePlan()\n  }, [])\n\n  \n\n \n  const RechargePlan = () => {\n    const accessToken = JSON.parse(localStorage.getItem('token'))\n    if (accessToken !== null) {\n      GetRechargedPlan(accessToken, 1)\n        .then((res) => {\n          if (res?.status === 200) {\n\n\n            if(res?.data?.results){\n              if(res?.data?.results != undefined){\n                if(res?.data?.results.length == 1){\n                  setSelectedPlan(res?.data?.results[0])\n                }\n              }\n            }\n           \n            setRecharge(res?.data?.results);\n            console.log('Response fromRecharged list :', res)\n\n          } else {\n            console.log('Response from fromRecharged:', res)\n          }\n        })\n        .catch((err) => {\n          // console.log(\"status of invalid token\", err?.response?.data, err?.response?.status)\n          if (err?.response?.status == 401) {\n            // conditional rendring\n            // localStorage.clear();\n            // history.push(\"/login\");\n            // window.location.reload();\n          } else {\n            // console.log('Response from customerlist:', err)\n          }\n        })\n    }\n  }\n\n\n \n  \n  const AddspceEvent=(e)=>{\n    console.log(e ,typeof(e))\n    if(e != \"NaN\"){\n\n      setAdditionalspace(parseInt(e))\n      if(selectedPlan){\n    \n        setAmountTotal(parseInt(e)* parseInt(selectedPlan?.per_gb_rate) )\n      }\n    }else{\n      alert(\"f\")\n    }\n  }\n\n  return (\n    <div className=\"user-management\">\n      <Helmet>\n        <title>Automaton | Customers List</title>\n        <meta name=\"description\" content=\"Automaton Widgets\" />\n      </Helmet>\n      <PageTitleBar\n        title={<IntlMessages id=\"sidebar.recharge\" />}\n        match={props.match}\n      />\n\n\n\n\n<div className=\"row \">\n            {filteredRecharges &&\n              filteredRecharges.map((item, i) => {\n \n              \n                return <RctCollapsibleCard\n\n                  colClasses=\"col-sm-12 col-md-3 col-lg-3  rounded\"\n\n                  fullBlock\n                  key={i}\n                >\n                  <div className=\"shadow project-card-shadow\">\n                    <section className=\"bg-primary text-white px-3 shadow rounded d-flex  align-items-center py-3 \">\n                     <div className=\"ml-4  align-items-center \">\n                        \n                        <h2 className=\"\">{item?.subscription_name} </h2>\n                        <h3>{item.per_gb_rate} ₹ / GB </h3>\n                      </div>\n                    </section>\n                 \n\n                  </div>\n\n                </RctCollapsibleCard>\n              })\n            }\n\n            \n          </div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n      <RctCollapsibleCard fullBlock>\n        <div className=\"table-responsive dark-primary-text\">\n          <div className='rechargeBoxContainer'>\n            <div className=\"heading dark-primary\">\n              <h1>Recharge</h1>\n            </div>\n\n            <div className=\"firstRow recharge-modal-row light-primary\">\n              <div className=\"left\">\n                <p className=\"wrapper\"><p className=\"text\">Additional Space</p> <p className=\"inputMaterial\"><input type=\"number\" onChange={(e)=>AddspceEvent(e.target.value)}/> GB <span className=\"diff\">@{selectedPlan?.per_gb_rate} ₹ / GB</span></p></p>\n              </div>\n\n              <div className=\"mid\"><p>=</p></div> \n\n              <div className=\"right\"><p>{amountTotal} = 00</p></div>\n            </div>\n\n            <div className=\"secondRow recharge-modal-row light-primary\">\n              <div className=\"left\">\n                <p><span className=\"inputContainer\"><input /></span> <Button color=\"primary\" style={{display:\"flex\", justifyContent:\"center\", alignItems:\"center\"}}>Apply Coupon</Button></p>\n              </div>\n\n              <div className=\"mid\">\n                <p>=</p>\n              </div>\n\n              <div className=\"right\"><p><span className=\"operator\">-</span>30 = 00</p></div>\n            </div>\n\n            <div className=\"thirdRow recharge-modal-row light-primary\">\n              <div className=\"left\"></div>\n\n              <div className=\"mid\"></div>\n\n              <div className=\"right\">\n                <p>220 = 00</p>\n              </div>\n            </div>\n\n            <div className=\"fourthRow recharge-modal-row light-primary\">\n              <p>\n                Net Payable <span>{\"220\"}</span>\n              </p>\n            </div>\n\n            <div className=\"fifthRow recharge-modal-row light-primary\">\n              <p>\n                <Button color=\"primary\" style={{padding:\"10px 50px\"}}>Proceed To Checkout</Button>\n              </p>\n            </div>\n          </div>\n        </div>\n        {loading && <RctSectionLoader />}\n      </RctCollapsibleCard>\n    </div>\n  )\n}\n"],"sourceRoot":""}