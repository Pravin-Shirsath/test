(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[232],{2600:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var s=a(7),c=a(1),n=a(34),l=a(42),r=a(12),i=a(37),o=a(0);var d=function(e){e.GettingImage;var t=Object(c.useState)({}),a=Object(s.a)(t,2),n=a[0],r=a[1],d=Object(c.useState)(null),j=Object(s.a)(d,2);j[0],j[1],Object(c.useEffect)((function(){m()}),[]);var m=function(){var e=JSON.parse(localStorage.getItem("token"));console.log("Token",e),null!==e&&Object(i.s)(e).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(r(null===e||void 0===e?void 0:e.data),console.log("Profile Info ResponseData",null===e||void 0===e?void 0:e.data)):(null===e||void 0===e||e.status,console.log("Profile Info Response",e))})).catch((function(e){console.log(e)}))};return Object(o.jsx)("div",{className:"profile-content",children:Object(o.jsxs)("div",{className:"media align-items-center",children:[Object(o.jsxs)("div",{style:{position:"relative"},children:[Object(o.jsx)("img",{src:null==(null===n||void 0===n?void 0:n.profile_image)?"".concat("","/assets/images/avatars/user-15.jpg"):"".concat(l.b+n.profile_image),alt:"user profile",className:"rounded-circle bordered",width:"140",height:"140"}),Object(o.jsx)("i",{className:"ti-pencil rounded-circle bordered text-white",style:{position:"absolute",bottom:"6px",right:"20%",backgroundColor:"#464D69"},children:" "}),Object(o.jsx)("input",{type:"file",className:"rounded-circle bordered",style:{position:"absolute",bottom:"6px",right:"20%",backgroundColor:"#464D69",width:"30px",height:"30px",opacity:0}})]}),Object(o.jsx)("div",{className:"media-body pt-25",children:Object(o.jsxs)("div",{className:"d-flex flex-column align-items-baseline",children:[Object(o.jsxs)("h2",{className:"user-name text-white",children:[null===n||void 0===n?void 0:n.first_name," ",null===n||void 0===n?void 0:n.last_name]}),Object(o.jsx)("h2",{children:null===n||void 0===n?void 0:n.username}),Object(o.jsx)("p",{children:null===n||void 0===n?void 0:n.email})]})})]})})},j=a(478),m=a(322),b=a(875),x=a(528),u=a(477),O=a(59),h=(a(1911),a(2356)),f=a(1912),p=a(127),g=a(63),N=a(10),v=(a(87),a(152));function y(e){var t=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).first_name),a=Object(s.a)(t,2),l=a[0],y=a[1],S=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).last_name),w=Object(s.a)(S,2),C=w[0],P=w[1],I=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).email),_=Object(s.a)(I,2),k=_[0],A=_[1],D=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).mobile_number),F=Object(s.a)(D,2),T=F[0],M=F[1],J=Object(c.useState)(""),z=Object(s.a)(J,2),q=z[0],Z=z[1],L=Object(c.useState)(""),U=Object(s.a)(L,2),E=U[0],R=U[1],$=Object(c.useState)(""),G=Object(s.a)($,2),W=G[0],B=G[1],H=Object(c.useState)(""),K=Object(s.a)(H,2),Q=K[0],V=K[1],X=Object(c.useState)(""),Y=Object(s.a)(X,2),ee=Y[0],te=Y[1],ae=Object(c.useState)(""),se=Object(s.a)(ae,2),ce=se[0],ne=se[1],le=Object(c.useState)(""),re=Object(s.a)(le,2),ie=re[0],oe=re[1],de=Object(c.useState)(""),je=Object(s.a)(de,2),me=je[0],be=je[1],xe=Object(c.useState)(""),ue=Object(s.a)(xe,2),Oe=ue[0],he=ue[1],fe=Object(c.useState)(""),pe=Object(s.a)(fe,2),ge=pe[0],Ne=pe[1],ve=Object(c.useState)(""),ye=Object(s.a)(ve,2),Se=ye[0],we=ye[1],Ce=Object(c.useState)(null),Pe=Object(s.a)(Ce,2),Ie=Pe[0],_e=Pe[1],ke=Object(c.useState)(""),Ae=Object(s.a)(ke,2),De=Ae[0],Fe=(Ae[1],Object(c.useState)("")),Te=Object(s.a)(Fe,2),Me=Te[0],Je=(Te[1],Object(c.useState)("")),ze=Object(s.a)(Je,2),qe=ze[0],Ze=(ze[1],Object(c.useState)("")),Le=Object(s.a)(Ze,2),Ue=Le[0],Ee=Le[1],Re=Object(c.useState)(""),$e=Object(s.a)(Re,2),Ge=$e[0],We=$e[1],Be=Object(c.useState)(""),He=Object(s.a)(Be,2),Ke=He[0],Qe=He[1],Ve=Object(c.useState)(""),Xe=Object(s.a)(Ve,2),Ye=Xe[0],et=(Xe[1],Object(c.useState)(!1)),tt=Object(s.a)(et,2),at=tt[0],st=tt[1],ct=Object(O.g)();console.log({"firstName:":l,"lastName:":C,email:k,phone:T,country:q,"zipCode:":E,"state:":W,"companyName:":Q,"billingAddress:":ee,"taxNumber:":ce,"companyAddress:":ie});return Object(o.jsxs)("div",{className:"userProfile-wrapper",children:[Object(o.jsxs)(n.a,{children:[Object(o.jsx)("title",{children:"Automaton | User Profile"}),Object(o.jsx)("meta",{name:"description",content:"User Profile"})]}),Object(o.jsx)(g.a,{title:Object(o.jsx)(N.a,{id:"sidebar.userProfile"}),match:e.match}),Object(o.jsxs)(p.a,{"data-bs-spy":"scroll",children:[Object(o.jsx)(d,{GettingImage:function(e){null!=e&&void 0!=e&&(console.log("pic=========",e),_e(e))}}),Object(o.jsxs)(j.a,{className:"border",children:[Object(o.jsx)("section",{className:"border border-5 py-10 d-flex align-item-center justify-content-center bg-dark text-white",children:Object(o.jsx)("h2",{children:"Personal Details"})}),Object(o.jsxs)("div",{className:"edit-form",children:[Object(o.jsxs)(m.a,{row:!0,children:[Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"firstName",sm:3,className:"d-flex",children:["First Name ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(u.a,{type:"text",name:"firstname",className:"input-lg",value:l,onChange:function(e){return y(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:me})})]}),Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"lastName",sm:3,className:"d-flex",children:["Last Name ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(u.a,{type:"text",name:"lastName",className:"input-lg",value:C,onChange:function(e){return P(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Oe})})]})]}),Object(o.jsxs)(m.a,{row:!0,children:[Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"email",sm:3,className:"d-flex",children:["Email Id ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(u.a,{type:"text",name:"email",className:"input-lg",value:k,onChange:function(e){return A(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:ge})})]}),Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsx)(x.a,{for:"state",sm:3,children:"State"}),Object(o.jsx)(f.b,{classes:"w-100 form-control form-control-lg text-md",style:{fontSize:"16px",type:"text"},country:q,value:W,onChange:function(e){return B(e),console.log(e)}})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:qe})})]})]}),Object(o.jsxs)(m.a,{row:!0,children:[Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsx)(x.a,{for:"country",sm:3,children:"Country"}),Object(o.jsx)(f.a,{classes:"w-100 form-control form-control-lg text-md",value:q,onChange:function(e){return Z(e)},style:{fontSize:"17px",type:"text"}})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:De})})]}),Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsx)(x.a,{for:"zipCode",sm:3,children:"Zipcode"}),Object(o.jsx)(u.a,{type:"text",name:"zipcode",className:"input-lg",value:E,onChange:function(e){return R(e.target.value)},sm:9,disabled:!(W.length>0)})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Me})})]})]}),Object(o.jsx)(m.a,{row:!0,children:Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"phone",sm:3,className:"d-flex",children:["Phone ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(h.a,{placeholder:"Enter phone number",value:T,onChange:function(e){return M(e)},defaultCountry:"IN",className:"w-100 form-control form-control-lg text-md",limitMaxLength:!0,sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Se})})]})})]}),Object(o.jsx)("section",{className:"border border-5 py-10 d-flex align-item-center justify-content-center bg-dark text-white",children:Object(o.jsx)("h2",{children:"Company Details"})}),Object(o.jsxs)("div",{className:"edit-form",children:[Object(o.jsxs)(m.a,{row:!0,children:[Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"companyName",sm:3,className:"d-flex",children:["Company Name ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(u.a,{type:"text",name:"companyName",className:"input-lg",value:Q,onChange:function(e){return V(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Ue})})]}),Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"billingAddress",sm:3,className:"d-flex",children:["Billing Address ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(u.a,{style:{height:120},type:"textarea",name:"billingAddress",className:"input-lg",value:ee,onChange:function(e){return te(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Ge})})]})]}),Object(o.jsxs)(m.a,{row:!0,children:[Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsxs)(x.a,{for:"taxNumber",sm:3,className:"d-flex",children:["Tax Number ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(u.a,{type:"text",name:"taxNumber",className:"input-lg",value:ce,onChange:function(e){return ne(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Ke})})]}),Object(o.jsxs)(b.a,{sm:6,children:[Object(o.jsxs)(b.a,{sm:12,className:"d-flex ",children:[Object(o.jsx)(x.a,{for:"companyAddress",sm:3,children:"Company Address"}),Object(o.jsx)(u.a,{type:"textarea",style:{height:120},name:"companyAddress",className:"input-lg",value:ie,onChange:function(e){return oe(e.target.value)},sm:9})]}),Object(o.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:at&&Object(o.jsx)("p",{className:"error mt-0",children:Ye})})]})]}),Object(o.jsxs)(m.a,{className:"row mt-50",children:[Object(o.jsx)(b.a,{sm:6,children:Object(o.jsxs)("h4",{children:["   ",Object(o.jsx)("span",{className:"text-danger",children:"*"})," Mandatory Field"]})}),Object(o.jsx)(b.a,{sm:6,children:Object(o.jsxs)("section",{className:"row ",children:[Object(o.jsx)(b.a,{sm:6,children:Object(o.jsx)(v.a,{color:"primary",className:"btn-block text-white px-50 fw-bold bg-primary.bg-gradient",variant:"contained",size:"medium",onClick:function(){var e=new FormData,t=/^[a-zA-Z]{1,30}$/;""===k.trim()||null===T&&void 0===T||""===l.trim()||""===C.trim()||""===Q.trim()||""===ee.trim()||""===ce.trim()?(be(""),he(""),Ne(""),we(""),Ee(""),Qe(""),We(""),""==k.trim()&&Ne("* This is required Field"),""==l.trim()&&be("* This is required Field"),""==C.trim()&&he("* This is required Field"),""==Q.trim()&&Ee("* This is required Field"),""==ee.trim()&&We("* This is required Field"),""==ce.trim()&&Qe("* This is required Field"),null==T&&we("* This is required Field"),st(!0)):(st(!1),be(""),he(""),Ne(""),we(""),Ee(""),Qe(""),We(""),""!=q&&e.append("country",q),""!=W&&e.append("state",W),""!=ie&&e.append("company_address",ie),null!=Ie&&e.append("profile_image",Ie),t.test(l.trim())?t.test(C.trim())?Object(h.b)(T+"".trim(""))?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(k.trim(""))?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(ce+"".trim(""))?(e.append("first_name",l),e.append("last_name",C),e.append("mobile_number",T),e.append("email",k.toLowerCase()),e.append("billing_address",ee),e.append("tax_number",ce),function(e){console.log("Profile_Details==",e);var t=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("ProfileData"));null!==t?Object(i.x)(e,t,a.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(console.log("Response from update profile:",e),st(!1),be(""),he(""),Ne(""),we(""),Ee(""),Qe(""),We(""),y(""),P(""),M(""),A(""),Z(""),R(""),B(""),V(""),te(""),ne(""),oe(""),r.NotificationManager.success("Profile Updated Successfully!"),ct.push("/app/dashboard/saas"))})).catch((function(e){var t,a,s,c,n;console.log("Update profile error :",null===e||void 0===e?void 0:e.response),console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data,"error data from user profile"),400===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&r.NotificationManager.error(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(c=s.data)||void 0===c||null===(n=c.email)||void 0===n?void 0:n[0])})):r.NotificationManager.error("accessToken not found")}(e)):r.NotificationManager.error("Invalid Tax format!"):r.NotificationManager.error("Invalid email format!"):r.NotificationManager.error("Phone number must be 10 digit long!"):r.NotificationManager.error("Last name must contain only alphabet and no spacings!"):r.NotificationManager.error("First name must contain only alphabet and no spacings!"))},style:{maxWidth:"150px"},children:"Save"})}),Object(o.jsx)(b.a,{sm:6,children:Object(o.jsx)(v.a,{color:"primary",className:"btn-block px-50 py-2 text-white fw-bold btn-danger",variant:"contained",size:"medium",onClick:function(){ct.push("/")},style:{maxWidth:"150px"},children:"Cancel"})})]})})]})]})]})]})]})}}}]);
//# sourceMappingURL=232.438d5a5f.chunk.js.map