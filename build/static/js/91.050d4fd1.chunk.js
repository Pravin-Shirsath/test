(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[91],{2487:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var a=n(8),i=n(1),l=n(39),c=n(175),s=n(736),o=n.n(s),r=n(18),u=n(146),d=n.n(u),b=n(63),j=(n(194),n(69),n(17),n(52)),v=(n(118),n(196),n(42)),m=n(232),h=n(626),f=n(0);function O(e){var t,n=e.location,s=(Object(b.g)(),Object(i.useState)([])),u=Object(a.a)(s,2),O=u[0],g=u[1],p=Object(i.useState)([]),x=Object(a.a)(p,2),N=x[0],y=x[1],k=Object(i.useState)(""),S=Object(a.a)(k,2),w=S[0],C=S[1],M=Object(i.useState)(1),E=Object(a.a)(M,2),P=E[0],_=E[1],I=Object(i.useState)(""),D=Object(a.a)(I,2),J=D[0],F=D[1],R=Object(i.useState)(!1),A=Object(a.a)(R,2),L=(A[0],A[1]),T=Object(i.useState)(!1),U=Object(a.a)(T,2),q=(U[0],U[1]);Object(i.useEffect)((function(){localStorage.getItem("isLoggedIn");B()}),[]);var B=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(v.H)(e,P).then((function(e){var t,n,a;200===(null===e||void 0===e?void 0:e.status)&&(g(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),y(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results),F(parseInt(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.count)))})).catch((function(e){var t;401==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&Object(m.a)(e)}))};return Object(f.jsxs)("div",{className:"user-management",children:[Object(f.jsxs)(l.a,{children:[Object(f.jsx)("title",{children:"Automaton | Customers List"}),Object(f.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(f.jsx)(h.a,{currentPage:"Customer Management",data:null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.breadcrumbData}),Object(f.jsx)(j.a,{fullBlock:!0,children:Object(f.jsxs)("div",{className:"table-responsive",children:[Object(f.jsx)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:Object(f.jsxs)("div",{className:"search-row",children:[Object(f.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:w,onChange:function(e){return C(e.target.value)}}),Object(f.jsx)(c.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(v.M)(e,w).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0?(y(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results),C("")):(y(O),C(""),r.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]})}),Object(f.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:"No"}),Object(f.jsx)("th",{children:"User"}),Object(f.jsx)("th",{children:"Email"}),Object(f.jsx)("th",{children:"Phone"}),Object(f.jsx)("th",{children:"Action"})]})}),Object(f.jsx)("tbody",{children:N&&N.map((function(e,t,n){var a=null===e||void 0===e?void 0:e.is_active;return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{}),Object(f.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(f.jsx)("td",{children:null===e||void 0===e?void 0:e.username}),Object(f.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(f.jsx)("td",{children:null!==e&&void 0!==e&&e.mobile_number?null===e||void 0===e?void 0:e.mobile_number:"-"}),Object(f.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(f.jsx)(o.a,{onClick:function(){return function(e,t){var n=JSON.parse(localStorage.getItem("token"));null!==n&&(null!==e&&void 0!==e&&e.is_active?Object(v.h)(n,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(q(!1),L(!0),console.log("Response",e),setTimeout((function(){L(!1),B(),r.NotificationManager.success("User disable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,q(!1),r.NotificationManager.error("Error while disable user"))})).catch((function(e){q(!1),r.NotificationManager.error("Error while disable user")})):Object(v.i)(n,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(q(!1),L(!0),console.log("Response",e),setTimeout((function(){L(!1),B(),r.NotificationManager.success("User enable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,q(!1),r.NotificationManager.error("Error while enable user"))})).catch((function(e){q(!1),r.NotificationManager.error("Error while enable user")})))}(e)},on:a,className:1==(null===e||void 0===e?void 0:e.is_active)?"bg-primary":"bg-danger"})})]},t)}))})]}),(null===O||void 0===O?void 0:O.length)>0&&Object(f.jsx)("div",{className:"paginationDiv",children:Object(f.jsx)(d.a,{activePage:P,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(P!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(v.H)(t,e).then((function(e){var t,n,a;200===(null===e||void 0===e?void 0:e.status)&&(g(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),y(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results),F(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.count))})).catch((function(e){})),_(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:J})})]})})]})}},626:function(e,t,n){"use strict";var a=n(16),i=n(27),l=n(30),c=n(8),s=n(1),o=n(63),r=n(0);t.a=function(e){var t=e.currentPage,n=e.data,u=void 0===n?[]:n,d=(e.props,Object(s.useState)(u)),b=Object(c.a)(d,2),j=b[0];b[1];Object(s.useEffect)((function(){}),[]);var v=Object(o.g)();console.log(u,"..");var m=function(){var e=Object(l.a)(Object(a.a)().mark((function e(t,n){var l,c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=Object(i.a)(j),c=[],console.log(n,"Data=",l),s=0;s<n;s++)c.push(u[s]);console.log(c,"myarray"),v.push(t.url,{breadcrumbData:c});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"page-title d-flex  align-items-center",children:[void 0!=u&&u.length>0&&u.map((function(e,t){return Object(r.jsxs)("div",{className:"page-title-wrap  d-flex  align-items-center mr-1",children:[Object(r.jsx)("i",{className:"ti-angle-left text-dark m-0 custombredcrum-icon"})," ",Object(r.jsx)("span",{onClick:function(){return m(e,t)},className:"globalFontFamily custombredcrum-heding",children:e.name})]},t)})),Object(r.jsxs)("div",{className:"page-title-wrap   d-flex  align-items-center text-white m-0",children:[Object(r.jsx)("i",{className:"ti-angle-left m-0 text-white custombredcrum-icon"}),Object(r.jsx)("span",{className:"globalFontFamily custombredcrum-heding",children:t})]})]})}},736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(2)),i=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var c={on:a.default.bool.isRequired,onClick:a.default.func.isRequired,enabled:a.default.bool,className:a.default.string};function s(e){var t=e.on,n=e.onClick,a=e.onDisabledClick,l=e.enabled,c=e.className,s=e.children,o=["switch",c,t?"on ":"",l?"":"disabled "].join(" ");return i.default.createElement("div",{className:o,onClick:function(e){return l?n(e):a(e)}},i.default.createElement("div",{className:"switch-toggle",children:s}))}s.propTypes=c,s.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=s}}]);
//# sourceMappingURL=91.050d4fd1.chunk.js.map