(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[62],{2604:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(7),c=a(1),s=a(36),i=a(152),l=(a(725),a(724)),o=a(543),r=a(532),d=a(533),u=a(13),j=a(132),b=a.n(j),m=(a(167),a(63)),x=a(10),h=a(47),f=(a(108),a(170),a(39)),O=a(480),v=a(482),p=(a(27),a(324)),g=a(674),N=a(529),y=a(478),C=a(301),k=a(0),S=function(e){e.selected;var t=e.Modalopen,a=e.close,s=e.reloadlist,i=Object(c.useState)(!1),l=Object(n.a)(i,2),o=l[0],r=l[1],d=Object(c.useState)(""),j=Object(n.a)(d,2),b=j[0],m=j[1],x=Object(c.useState)(!1),h=Object(n.a)(x,2),S=h[0],w=h[1],z=Object(c.useState)(""),M=Object(n.a)(z,2),_=M[0],D=M[1],T=Object(c.useState)(!1),I=Object(n.a)(T,2),P=I[0],B=I[1],E=Object(c.useState)(""),J=Object(n.a)(E,2),R=J[0],A=J[1];Object(c.useEffect)((function(){r(t)}),[t]);var q=function(e,t,n,c){var i=JSON.parse(localStorage.getItem("token"));null!==i&&Object(f.d)(i,e,t,n,c).then((function(e){if(console.log("Response from customerlist:",e),200===(null===e||void 0===e?void 0:e.status)){var t,n,c,i;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message)s&&(s(),s(),r(!1),a&&a()),u.NotificationManager.success(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message);if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.coupon_text)u.NotificationManager.error(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.coupon_text)}})).catch((function(e){}))};return Object(k.jsx)(O.a,{onClose:function(){return a(!1),r(!1)},open:o,children:Object(k.jsxs)(v.a,{style:{paddingVertical:"30%",paddingBottom:"20px",margin:"20px"},children:[Object(k.jsx)("div",{className:"d-flex align-item-center d-coupan-box ",children:Object(k.jsx)("p",{className:"dark-primary-text d-coupan-heading ",children:"Discount Coupon"})}),Object(k.jsxs)("section",{children:[Object(k.jsx)(p.a,{row:!0,children:Object(k.jsxs)(g.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(k.jsx)(N.a,{for:"firstName",sm:3,className:"d-flex dark-primary-text",children:"Coupon Code"}),Object(k.jsx)(y.a,{type:"text",className:"input-md",sm:9,value:R,onChange:function(e){return A(e.target.value)}}),Object(k.jsx)(N.a,{sm:1,className:"d-flex ",children:Object(k.jsx)("i",{className:"zmdi zmdi-copy "})})]})}),Object(k.jsx)(p.a,{row:!0,className:"align-items-center ",children:Object(k.jsxs)(g.a,{sm:12,className:"d-flex  align-items-center ",children:[Object(k.jsx)(N.a,{for:"firstName",sm:3,className:"d-flex align-items-center  dark-primary-text",children:"Discount"}),Object(k.jsx)("div",{className:" d-flex align-items-center justify-content-center ",style:{marginTop:"20px"},children:Object(k.jsxs)(p.a,{tag:"fieldset",className:"d-flex mt-2",children:[Object(k.jsxs)(p.a,{check:!0,className:"d-flex  ",children:[Object(k.jsx)(y.a,{type:"radio",name:"radio1",style:{width:"20px",height:"20px",marginTop:"6px"},value:P,onChange:function(e){return B(e.target.checked),w(!1)}}),Object(k.jsxs)(N.a,{check:!0,className:"mx-20  d-flex",children:[Object(k.jsx)(y.a,{type:"number",name:"",style:{width:"97px",height:"34px",border:"1px solid black"},value:_,disabled:!P,onChange:function(e){return D(e.target.value)}}),Object(k.jsx)("span",{className:"mx-2 align-items-center justify-content-center",style:{fontSize:"23px"},children:"%"}),"  "]})]}),Object(k.jsx)("p",{className:"mx-25 mt-1 dark-primary-text",children:"OR"}),Object(k.jsxs)(p.a,{check:!0,className:"d-flex   ",children:[Object(k.jsx)(y.a,{type:"radio",name:"radio1",style:{width:"20px",height:"20px",marginTop:"6px"},value:S,onChange:function(e){return w(e.target.checked),B(!1)}}),Object(k.jsxs)(N.a,{check:!0,className:"mx-20 d-flex",children:[Object(k.jsx)(y.a,{type:"number",name:"",style:{width:"97px",height:"34px",border:"1px solid black"},value:b,onChange:function(e){return m(e.target.value)},disabled:!S}),Object(k.jsx)("span",{className:"mx-2 align-items-center justify-content-center",style:{fontSize:"23px"},children:" \u20b9 "})]})]})]})})]})}),Object(k.jsxs)("div",{className:"d-flex align-items-end justify-content-end ",children:[Object(k.jsx)(C.a,{variant:"contained",size:"medium",color:"primary",className:"projectCardButton mx-2",onClick:function(){""!=R?!0===S&&!1===P?""!=b?q(R,b,"amount","Cupon for ".concat(50," rupees off")):u.NotificationManager.error("amount empty!"):!0===P&&!1===S?""!=_?q(R,_,"percentage","Cupon for ".concat(50," percentage off")):u.NotificationManager.error("percentage empty!"):!1===P&&!1===S&&u.NotificationManager.error("Discount empty!"):u.NotificationManager.error("Coupan code empty!")},children:"Save"}),Object(k.jsx)(C.a,{variant:"contained",size:"medium",color:"danger",className:"projectCardButton mx-2",onClick:function(){return a(!1),r(!1)},children:"Cancel"})]})]})]})})};function w(e){var t=Object(c.useState)([]),a=Object(n.a)(t,2),j=a[0],O=a[1],v=Object(c.useState)([]),p=Object(n.a)(v,2),g=p[0],N=p[1],y=Object(c.useState)(""),C=Object(n.a)(y,2),w=C[0],z=C[1],M=Object(c.useState)(1),_=Object(n.a)(M,2),D=_[0],T=_[1],I=Object(c.useState)(""),P=Object(n.a)(I,2),B=P[0],E=P[1],J=Object(c.useState)(!1),R=Object(n.a)(J,2),A=(R[0],R[1],Object(c.useState)(!1)),q=Object(n.a)(A,2),U=q[0],F=q[1],L=Object(c.useState)(!1),V=Object(n.a)(L,2),W=V[0],G=V[1];Object(c.useEffect)((function(){H()}),[]);var H=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(f.b)(e,D).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(O(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),N(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),E(parseInt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)))})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))};return Object(k.jsxs)("div",{className:"user-management",children:[Object(k.jsxs)(s.a,{children:[Object(k.jsx)("title",{children:"Automaton | "}),Object(k.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(k.jsx)(m.a,{title:Object(k.jsx)(x.a,{id:"sidebar.coupon"}),match:e.match}),Object(k.jsx)(h.a,{fullBlock:!0,children:Object(k.jsxs)("div",{className:"table-responsive",children:[Object(k.jsxs)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:[Object(k.jsxs)("div",{className:"search-row",children:[Object(k.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:w,onChange:function(e){return z(e.target.value)}}),Object(k.jsx)(i.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(f.c)(e,w).then((function(e){var t,a;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0?(N(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),z("")):(N(j),z(""),u.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]}),Object(k.jsxs)(i.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(e){return function(e){e.preventDefault(),F(!0)}(e)},children:[" ",Object(k.jsx)("i",{className:"zmdi zmdi-plus mx-2"}),"Coupon"]})]}),Object(k.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{}),Object(k.jsx)("th",{children:"Sr No"}),Object(k.jsx)("th",{children:"Id"}),Object(k.jsx)("th",{children:"Created Date"}),Object(k.jsx)("th",{children:"Discount"}),Object(k.jsx)("th",{children:"Is Utilized"}),Object(k.jsx)("th",{children:"Utilized By"}),Object(k.jsx)("th",{children:"Discount Amt"}),Object(k.jsx)("th",{children:"Action"})]})}),Object(k.jsx)("tbody",{children:g&&g.map((function(e,t,a){var n=Object(l.a)(null===e||void 0===e?void 0:e.date_created);return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{}),Object(k.jsx)("td",{children:t+1}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"media",children:Object(k.jsx)("div",{className:"media-body",children:Object(k.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.coupon_text})})})}),Object(k.jsx)("td",{children:n||"-"}),Object(k.jsx)("td",{children:"".concat(null===e||void 0===e?void 0:e.discount_value," ").concat("amount"==(null===e||void 0===e?void 0:e.discount_type)?"\u20b9":"%"," ")}),Object(k.jsx)("td",{children:(null===e||void 0===e?void 0:e.is_utilized)+""}),Object(k.jsx)("td",{children:null==(null===e||void 0===e?void 0:e.utilized_by)?"-":null===e||void 0===e?void 0:e.utilized_by}),Object(k.jsx)("td",{children:null===e||void 0===e?void 0:e.discount_value}),Object(k.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(k.jsx)("i",{className:"zmdi zmdi-copy"})})]},t)}))})]}),(null===j||void 0===j?void 0:j.length)>0&&Object(k.jsx)("div",{className:"paginationDiv",children:Object(k.jsx)(b.a,{activePage:D,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(D!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(f.b)(t,e).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(O(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),N(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),E(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count))})).catch((function(e){})),T(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:B})})]})}),Object(k.jsx)(S,{Modalopen:U,close:function(){return F(!1)},reloadlist:H}),Object(k.jsxs)(o.a,{isOpen:W,className:"addCustomerModal",children:[Object(k.jsx)(r.a,{children:"Are you sure want to delete  ?"}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(i.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",children:"Delete"}),Object(k.jsx)(i.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){return G(!1)},children:"Cancel"})]})]})]})}},674:function(e,t,a){"use strict";var n=a(5),c=a(23),s=a(1),i=a.n(s),l=a(2),o=a.n(l),r=a(11),d=a.n(r),u=a(9),j=["className","cssModule","widths","tag"],b=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.bool,o.a.number,o.a.string,o.a.shape({size:o.a.oneOfType([o.a.bool,o.a.number,o.a.string]),order:b,offset:b})]),x={tag:u.o,xs:m,sm:m,md:m,lg:m,xl:m,className:o.a.string,cssModule:o.a.object,widths:o.a.array},h={tag:"div",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,s=e.widths,l=e.tag,o=Object(c.a)(e,j),r=[];s.forEach((function(t,n){var c=e[t];if(delete o[t],c||""===c){var s=!n;if(Object(u.i)(c)){var i,l=s?"-":"-"+t+"-",j=f(s,t,c.size);r.push(Object(u.k)(d()(((i={})[j]=c.size||""===c.size,i["order"+l+c.order]=c.order||0===c.order,i["offset"+l+c.offset]=c.offset||0===c.offset,i)),a))}else{var b=f(s,t,c);r.push(b)}}})),r.length||r.push("col");var b=Object(u.k)(d()(t,r),a);return i.a.createElement(l,Object(n.a)({},o,{className:b}))};O.propTypes=x,O.defaultProps=h,t.a=O},724:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e?e.toString().replace(/T/," ").replace(/\..+/,"").split(" ")[0]:""}},725:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(2)),c=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}var i={on:n.default.bool.isRequired,onClick:n.default.func.isRequired,enabled:n.default.bool,className:n.default.string};function l(e){var t=e.on,a=e.onClick,n=e.onDisabledClick,s=e.enabled,i=e.className,l=e.children,o=["switch",i,t?"on ":"",s?"":"disabled "].join(" ");return c.default.createElement("div",{className:o,onClick:function(e){return s?a(e):n(e)}},c.default.createElement("div",{className:"switch-toggle",children:l}))}l.propTypes=i,l.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=l}}]);
//# sourceMappingURL=62.96d7c43f.chunk.js.map