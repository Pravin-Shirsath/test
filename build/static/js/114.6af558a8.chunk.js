(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[114],{2579:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var s=a(7),r=a(1),i=a(34),o=a(40),l=a(0);var n=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),a=t[0],i=t[1];Object(r.useEffect)((function(){n()}),[]);var n=function(){var e=JSON.parse(localStorage.getItem("token"));console.log("Token",e),null!==e&&Object(o.q)(e).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(i(null===e||void 0===e?void 0:e.data),console.log("Profile Info ResponseData",null===e||void 0===e?void 0:e.data)):(null===e||void 0===e||e.status,console.log("Profile Info Response",e))})).catch((function(e){console.log(e)}))};return Object(l.jsxs)("div",{className:"profile-top mb-20",children:[Object(l.jsx)("img",{src:"".concat("","/assets/images/img/profile-bg.jpg"),alt:"profile banner",className:"img-fluid",width:"1920",height:"345"}),Object(l.jsx)("div",{className:"profile-content",children:Object(l.jsx)("div",{className:"media align-items-center",children:Object(l.jsx)("div",{className:"media-body pt-25",children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-baseline",children:[Object(l.jsxs)("h2",{className:"user-name text-white",children:[null===a||void 0===a?void 0:a.first_name," ",null===a||void 0===a?void 0:a.last_name]}),Object(l.jsx)("p",{children:null===a||void 0===a?void 0:a.email})]})})})})]})},c=a(477),d=a(321),u=a(527),j=a(872),m=a(476),b=a(58),f=a(14),O=a(126),h=a(62),p=a(10),g=(a(85),a(151));function v(e){var t=Object(r.useState)(JSON.parse(localStorage.getItem("ProfileData")).first_name),a=Object(s.a)(t,2),v=a[0],x=a[1],N=Object(r.useState)(JSON.parse(localStorage.getItem("ProfileData")).last_name),S=Object(s.a)(N,2),w=S[0],y=S[1],P=Object(r.useState)(JSON.parse(localStorage.getItem("ProfileData")).email),k=Object(s.a)(P,2),I=k[0],M=k[1],T=Object(r.useState)(JSON.parse(localStorage.getItem("ProfileData")).mobile_number),J=Object(s.a)(T,2),C=J[0],z=J[1],F=Object(r.useState)(""),q=Object(s.a)(F,2),D=q[0],U=q[1],_=Object(r.useState)(""),E=Object(s.a)(_,2),R=E[0],L=E[1],$=Object(r.useState)(""),A=Object(s.a)($,2),Z=A[0],B=A[1],G=Object(r.useState)(""),H=Object(s.a)(G,2),K=H[0],Q=H[1],V=Object(r.useState)(!1),W=Object(s.a)(V,2),X=W[0],Y=W[1],ee=Object(b.g)();return Object(l.jsxs)("div",{className:"userProfile-wrapper",children:[Object(l.jsxs)(i.a,{children:[Object(l.jsx)("title",{children:"Automaton | User Profile"}),Object(l.jsx)("meta",{name:"description",content:"User Profile"})]}),Object(l.jsx)(h.a,{title:Object(l.jsx)(p.a,{id:"sidebar.userProfile"}),match:e.match}),Object(l.jsxs)(O.a,{children:[Object(l.jsx)(n,{}),Object(l.jsx)(c.a,{children:Object(l.jsxs)("div",{className:"edit-form",children:[Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsx)(u.a,{for:"firstName",sm:3,children:"First Name"}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsx)(m.a,{type:"text",name:"firstname",className:"input-lg",value:v,onChange:function(e){return x(e.target.value)}}),X&&Object(l.jsx)("p",{className:"error mt-0",children:D})]})]}),Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsx)(u.a,{for:"firstName",sm:3,children:"Last Name"}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsx)(m.a,{type:"text",name:"lastname",className:"input-lg",value:w,onChange:function(e){return y(e.target.value)}}),X&&Object(l.jsx)("p",{className:"error mt-0",children:R})]})]}),Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsx)(u.a,{for:"lastName",sm:3,children:"Phone Number"}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsx)(m.a,{type:"number",name:"lastName",className:"input-lg",value:C,onChange:function(e){return z(e.target.value)}}),X&&Object(l.jsx)("p",{className:"error mt-0",children:K})]})]}),Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsx)(u.a,{for:"occupation",sm:3,children:"Email"}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsx)(m.a,{type:"email",name:"email",className:"input-lg",value:I,onChange:function(e){return M(e.target.value)}}),X&&Object(l.jsx)("p",{className:"error mt-0",children:Z})]})]}),Object(l.jsx)(d.a,{children:Object(l.jsx)(j.a,{sm:9,children:Object(l.jsx)(g.a,{style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white update-btn",variant:"contained",size:"large",onClick:function(){var e=/^[a-zA-Z]{1,30}$/;if(""!==I.trim()&&""!==C.trim()&&""!==v.trim()&&""!==w.trim())if(Y(!1),U(""),L(""),B(""),Q(""),e.test(v.trim()))if(e.test(w.trim()))if(/^\d{10}$/.test(C.trim("")))if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(I.trim(""))){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(o.u)(v,w,I.toLowerCase(),C,t).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(console.log("Response from update profile:",e),Y(!1),U(""),L(""),B(""),Q(""),x(""),y(""),z(""),M(""),f.NotificationManager.success("Profile Updated Successfully!"),ee.push("/app/dashboard/saas"),window.location.reload())})).catch((function(e){var t,a,s,r,i;(console.log("Update profile error :",null===e||void 0===e?void 0:e.response),console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data,"error data from user profile"),400===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status))&&f.NotificationManager.error(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(r=s.data)||void 0===r||null===(i=r.email)||void 0===i?void 0:i[0])}))}else f.NotificationManager.error("Invalid email format!");else f.NotificationManager.error("Phone number must be 10 digit long!");else f.NotificationManager.error("Last name must contain only alphabet and no spacings!");else f.NotificationManager.error("First name must contain only alphabet and no spacings!");else U("* This is required Field"),L("* This is required Field"),B("* This is required Field"),Q("* This is required Field"),Y(!0)},children:"Update Profile"})})})]})})]})]})}},872:function(e,t,a){"use strict";var s=a(5),r=a(23),i=a(1),o=a.n(i),l=a(2),n=a.n(l),c=a(11),d=a.n(c),u=a(9),j=["className","cssModule","widths","tag"],m=n.a.oneOfType([n.a.number,n.a.string]),b=n.a.oneOfType([n.a.bool,n.a.number,n.a.string,n.a.shape({size:n.a.oneOfType([n.a.bool,n.a.number,n.a.string]),order:m,offset:m})]),f={tag:u.o,xs:b,sm:b,md:b,lg:b,xl:b,className:n.a.string,cssModule:n.a.object,widths:n.a.array},O={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},p=function(e){var t=e.className,a=e.cssModule,i=e.widths,l=e.tag,n=Object(r.a)(e,j),c=[];i.forEach((function(t,s){var r=e[t];if(delete n[t],r||""===r){var i=!s;if(Object(u.i)(r)){var o,l=i?"-":"-"+t+"-",j=h(i,t,r.size);c.push(Object(u.k)(d()(((o={})[j]=r.size||""===r.size,o["order"+l+r.order]=r.order||0===r.order,o["offset"+l+r.offset]=r.offset||0===r.offset,o)),a))}else{var m=h(i,t,r);c.push(m)}}})),c.length||c.push("col");var m=Object(u.k)(d()(t,c),a);return o.a.createElement(l,Object(s.a)({},n,{className:m}))};p.propTypes=f,p.defaultProps=O,t.a=p}}]);
//# sourceMappingURL=114.6af558a8.chunk.js.map