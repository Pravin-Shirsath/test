(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[87],{2666:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(10),s=a(1),c=a(41),l=a(165),i=a(761),o=a.n(i),r=a(576),d=a(568),u=a(565),j=a(354),b=a(673),m=a(562),v=a(511),f=a(566),h=a(21),O=a(140),x=a.n(O),p=a(65),g=(a(185),a(512),a(0)),N=a(68),y=a(16),S=a(51),k=a(116),w=(a(186),a(42));function C(e){Object(p.g)(),Object(s.useRef)();var t=Object(s.useState)([]),a=Object(n.a)(t,2),i=a[0],O=a[1],C=Object(s.useState)([]),M=Object(n.a)(C,2),E=M[0],I=M[1],R=Object(s.useState)(""),P=Object(n.a)(R,2),z=P[0],D=P[1],J=Object(s.useState)(1),T=Object(n.a)(J,2),_=T[0],A=T[1],U=Object(s.useState)(""),B=Object(n.a)(U,2),q=B[0],L=B[1],W=Object(s.useState)(""),$=Object(n.a)(W,2),F=$[0],Z=$[1],G=Object(s.useState)(""),H=Object(n.a)(G,2),K=H[0],Q=H[1],V=Object(s.useState)(null),X=Object(n.a)(V,2),Y=X[0],ee=(X[1],Object(s.useState)(!1)),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],se=Object(s.useState)(!1),ce=Object(n.a)(se,2),le=ce[0],ie=ce[1],oe=Object(s.useState)(!1),re=Object(n.a)(oe,2),de=(re[0],re[1],Object(s.useState)(!1)),ue=Object(n.a)(de,2),je=ue[0],be=ue[1],me=Object(s.useState)(null),ve=Object(n.a)(me,2),fe=(ve[0],ve[1],Object(s.useState)(0)),he=Object(n.a)(fe,2),Oe=(he[0],he[1],Object(s.useState)()),xe=Object(n.a)(Oe,2);xe[0],xe[1];Object(s.useEffect)((function(){localStorage.getItem("isLoggedIn");pe()}),[]);var pe=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(w.B)(e,_).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(O(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),I(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),L(parseInt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)),console.log("Response from customerlist :",e))})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))},ge=function(){ie(!1),Z(""),Q("")};return Object(g.jsxs)("div",{className:"user-management",children:[Object(g.jsxs)(c.a,{children:[Object(g.jsx)("title",{children:"Automaton | Customers List"}),Object(g.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(g.jsx)(N.a,{title:Object(g.jsx)(y.a,{id:"sidebar.usermangement"}),match:e.match}),Object(g.jsxs)(S.a,{fullBlock:!0,children:[Object(g.jsxs)("div",{className:"table-responsive",children:[Object(g.jsxs)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:[Object(g.jsxs)("div",{className:"search-row",children:[Object(g.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:z,onChange:function(e){return D(e.target.value)}}),Object(g.jsx)(l.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(w.I)(e,z).then((function(e){var t,a;(console.log("Response from search company user :",e),200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0)?(I(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),D(""),console.log("Response from search company user :",e)):(I(i),D(""),h.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]}),Object(g.jsxs)(l.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(e){return function(e){e.preventDefault(),ie(!0)}(e)},children:[" ",Object(g.jsx)("i",{className:"zmdi zmdi-plus mx-2"}),"Users"]})]}),Object(g.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{}),Object(g.jsx)("th",{children:"No"}),Object(g.jsx)("th",{children:"User"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Phone"}),Object(g.jsx)("th",{children:"Action"})]})}),Object(g.jsx)("tbody",{children:E&&E.map((function(e,t,a){var n=null===e||void 0===e?void 0:e.is_active;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{}),Object(g.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(g.jsx)("td",{children:Object(g.jsx)("div",{className:"media",children:Object(g.jsx)("div",{className:"media-body",children:Object(g.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.username})})})}),Object(g.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(g.jsx)("td",{children:null!==e&&void 0!==e&&e.phone?null===e||void 0===e?void 0:e.phone:"-"}),Object(g.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(g.jsx)(o.a,{onClick:function(){return function(e,t){var a=JSON.parse(localStorage.getItem("token"));null!==a&&(null!==e&&void 0!==e&&e.is_active?Object(w.f)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(be(!1),ne(!0),console.log("Response",e),setTimeout((function(){ne(!1),pe(),h.NotificationManager.success("User disable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,be(!1),h.NotificationManager.error("Error while disable user"))})).catch((function(e){be(!1),h.NotificationManager.error("Error while disable user")})):Object(w.g)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(be(!1),ne(!0),console.log("Response",e),setTimeout((function(){ne(!1),pe(),h.NotificationManager.success("User enable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,be(!1),h.NotificationManager.error("Error while enable user"))})).catch((function(e){be(!1),h.NotificationManager.error("Error while enable user")})))}(e)},on:n,className:1==(null===e||void 0===e?void 0:e.is_active)?"bg-primary":"bg-danger"})})]},t)}))})]}),0==E.length&&Object(g.jsx)("center",{style:{color:"black"},children:"  Data not available "}),(null===i||void 0===i?void 0:i.length)>0&&Object(g.jsx)("div",{className:"paginationDiv",children:Object(g.jsx)(x.a,{activePage:_,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(_!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(w.B)(t,e).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(O(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),I(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),L(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count),console.log("Response from customerlist :",e))})).catch((function(e){})),A(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:q})})]}),ae&&Object(g.jsx)(k.a,{})]}),Object(g.jsxs)(r.a,{isOpen:le,toggle:function(){return ge()},className:"addCustomerModal ",children:[Object(g.jsx)(d.a,{toggle:function(){return ge()},children:Object(g.jsx)("strong",{children:"Welcome"})}),Object(g.jsxs)(u.a,{children:[Object(g.jsx)(j.a,{row:!0,children:Object(g.jsxs)(b.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(g.jsx)(m.a,{for:"firstName",sm:3,className:"d-flex primary-dark",children:Object(g.jsxs)("span",{children:[" Username ",Object(g.jsx)("span",{className:"text-danger madatory-field",children:"*"})]})}),Object(g.jsx)(v.a,{type:"text",className:"input-md",value:F,onChange:function(e){return Z(e.target.value)},sm:10})]})}),Object(g.jsx)(j.a,{row:!0,children:Object(g.jsxs)(b.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(g.jsx)(m.a,{for:"firstName",sm:3,className:"d-flex primary-dark",children:Object(g.jsxs)("span",{children:[" Email Id ",Object(g.jsx)("span",{className:"text-danger madatory-field",children:"*"})]})}),Object(g.jsx)(v.a,{type:"text",className:"input-md",value:K,onChange:function(e){return Q(e.target.value)},sm:10})]})})]}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"end"},children:[Object(g.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return function(){if(""!=F&&""!=K)if(/^[a-zA-Z]{1,30}$/.test(F.trim("")))if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(K.trim(""))){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(w.a)(e,K,F).then((function(e){var t;console.log("Response from create in company :",e),200===(null===e||void 0===e?void 0:e.status)?(h.NotificationManager.success(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message),pe()):h.NotificationManager.error("!")})).catch((function(e){var t,a,n,s;console.log("Add userIN company",null===e||void 0===e?void 0:e.response);var c=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.email,l=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.username;void 0!=c&&h.NotificationManager.error(c[0]),void 0!=l&&h.NotificationManager.error(l[0])}))}else h.NotificationManager.error("Enter valid email address");else h.NotificationManager.error("User name must contain only  alpha-numeric character and no spacings!");else h.NotificationManager.error("username and email required")}()},className:"py-2 mx-10",style:{color:"#fff"},children:"Send"}),Object(g.jsx)(l.a,{variant:"contained",onClick:function(){return ge()},className:"py-2 px-3 bg-danger text-white mx-10",style:{cursor:"pointer"},children:"Cancel"})]})]}),Object(g.jsxs)(r.a,{isOpen:je,className:"addCustomerModal",children:[Object(g.jsxs)(u.a,{children:["Are you sure want to delete ",null===Y||void 0===Y?void 0:Y.username," ?"]}),Object(g.jsxs)(f.a,{children:[Object(g.jsx)(l.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",children:"Delete"}),Object(g.jsx)(l.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){return be(!1)},children:"Cancel"})]})]})]})}},673:function(e,t,a){"use strict";var n=a(6),s=a(31),c=a(1),l=a.n(c),i=a(2),o=a.n(i),r=a(14),d=a.n(r),u=a(12),j=["className","cssModule","widths","tag"],b=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.bool,o.a.number,o.a.string,o.a.shape({size:o.a.oneOfType([o.a.bool,o.a.number,o.a.string]),order:b,offset:b})]),v={tag:u.o,xs:m,sm:m,md:m,lg:m,xl:m,className:o.a.string,cssModule:o.a.object,widths:o.a.array},f={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,c=e.widths,i=e.tag,o=Object(s.a)(e,j),r=[];c.forEach((function(t,n){var s=e[t];if(delete o[t],s||""===s){var c=!n;if(Object(u.i)(s)){var l,i=c?"-":"-"+t+"-",j=h(c,t,s.size);r.push(Object(u.k)(d()(((l={})[j]=s.size||""===s.size,l["order"+i+s.order]=s.order||0===s.order,l["offset"+i+s.offset]=s.offset||0===s.offset,l)),a))}else{var b=h(c,t,s);r.push(b)}}})),r.length||r.push("col");var b=Object(u.k)(d()(t,r),a);return l.a.createElement(i,Object(n.a)({},o,{className:b}))};O.propTypes=v,O.defaultProps=f,t.a=O},761:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),s=c(a(1));function c(e){return e&&e.__esModule?e:{default:e}}var l={on:n.default.bool.isRequired,onClick:n.default.func.isRequired,enabled:n.default.bool,className:n.default.string};function i(e){var t=e.on,a=e.onClick,n=e.onDisabledClick,c=e.enabled,l=e.className,i=e.children,o=["switch",l,t?"on ":"",c?"":"disabled "].join(" ");return s.default.createElement("div",{className:o,onClick:function(e){return c?a(e):n(e)}},s.default.createElement("div",{className:"switch-toggle",children:i}))}i.propTypes=l,i.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=i}}]);
//# sourceMappingURL=87.042c5e5e.chunk.js.map