(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[86],{1538:function(e,t,a){},2475:function(e,t,a){"use strict";a.r(t);var n=a(15),s=a(29),o=a(10),c=(a(1538),a(116)),i=a(1539),r=a.n(i),l=a(68),d=a(51),u=a(41),j=a(65),p=a(16),m=a(1),x=a(354),b=a(673),f=a(562),g=a(511),h=a(327),O=a(33),v=a(21),y=a(42),N=a(61),w=(a(234),a(235),a(236),a(150),a(134),a(2420)),C=a(0),S=a(150).DashboardModal;t.default=function(e){var t=Object(j.g)(),a=Object(m.useState)(!1),i=Object(o.a)(a,2),k=i[0],D=(i[1],Object(m.useState)("")),I=Object(o.a)(D,2),T=I[0],A=I[1],M=Object(m.useState)(""),P=Object(o.a)(M,2),J=P[0],_=P[1],B=Object(m.useState)(),H=Object(o.a)(B,2),E=H[0],F=H[1],U=Object(m.useState)(),q=Object(o.a)(U,2),z=q[0],G=q[1],R=Object(m.useState)(!0),W=Object(o.a)(R,2),K=W[0],L=W[1];console.log(T,"Dataset name"),console.log(J,"Commmenttt");var Q=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("token")),void 0!==E){e.next=9;break}return e.next=4,new N.c({id:"uppy3",autoProceed:!1,debug:!0,restrictions:{allowedFileTypes:["image/*"]},methods:["OPTIONS","GET","POST","PATCH","PUT"],exposedHeaders:["Access-Control-Allow-Headers"]}).use(w.a,{endpoint:"".concat(O.b,"/api/automaton/file-uploads/upload/",143),headers:{Authorization:t,"Content-Type":"multipart/form-data"},bundle:!0,formData:!0,fieldName:"images"}).on("upload-success",(function(e,t){console.log("upload-success")})).on("upload-error",(function(e,t,a){console.log("error===",e,t,a),t.isNetworkError&&console.log("error===",t)}));case 4:a=e.sent,G(a),F(!0),e.next=10;break;case 9:F(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(E,"open"),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(u.a,{children:[Object(C.jsx)("title",{children:"Automaton | Create Dataset"}),Object(C.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(C.jsx)(l.a,{title:Object(C.jsx)(p.a,{id:"sidebar.createDataset"}),match:e.match}),void 0!=z&&Object(C.jsx)(S,{uppy:z,open:E,target:document.body,onRequestClose:function(){return F(!1)}}),Object(C.jsxs)(d.a,{fullBlock:!0,children:[Object(C.jsx)("div",{style:{padding:"80px",alignItems:"center",justifyContent:"center",display:"flex"},children:Object(C.jsx)("div",{className:"user-profile-widget box-shadow-box",style:{width:"60%",backgroundColor:"white"},children:Object(C.jsx)("div",{className:"p-20",children:Object(C.jsxs)("div",{style:{marginTop:"30px"},children:[Object(C.jsx)(x.a,{row:!0,children:Object(C.jsxs)(b.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(C.jsx)(f.a,{for:"firstName",sm:3,className:"d-flex ",children:Object(C.jsxs)("span",{children:["Dataset Name",Object(C.jsx)("span",{className:"text-danger madatory-field",children:"*"})]})}),Object(C.jsx)(g.a,{type:"text",className:"input-md",sm:10,onChange:function(e){A(e.target.value)},value:T})]})}),Object(C.jsx)(x.a,{row:!0,children:Object(C.jsxs)(b.a,{sm:12,className:"d-flex  align-items-center justify-content-center",children:[Object(C.jsx)(f.a,{for:"firstName",sm:3,className:"d-flex primary-dark",children:Object(C.jsx)("span",{children:" Comment"})}),Object(C.jsx)(g.a,{type:"text",style:{height:"100px"},value:J,onChange:function(e){_(e.target.value)},sm:10})]})}),Object(C.jsxs)("div",{className:"d-flex align-items-center justify-content-end",style:{marginTop:"30px",marginBottom:"30px"},children:[Object(C.jsx)(h.a,{variant:"contained",color:"primary",style:{width:"100px",padding:"7px 5px"},className:"projectCardButton mx-2",onClick:function(){var e=JSON.parse(localStorage.getItem("token")),t=localStorage.getItem("projId");null!==e&&t&&T&&(console.log(e,typeof e,"autthhh token"),Object(y.u)(e,t,T).then((function(e){var t,a,n,s;if(console.log(e,"resss in handle save function"),console.log(null===e||void 0===e?void 0:e.data,"ress dataaa i n handle save function"),200==(null===e||void 0===e?void 0:e.status))if("string"==typeof(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message))v.NotificationManager.error(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message);else if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(n=a.message)&&void 0!==n&&n.Dataset_created){var o,c,i,r,l,d;localStorage.setItem("projId",null===e||void 0===e||null===(o=e.data)||void 0===o||null===(c=o.message)||void 0===c||null===(i=c.Dataset_created)||void 0===i?void 0:i.project_id),localStorage.setItem("datasetid",null===e||void 0===e||null===(r=e.data)||void 0===r||null===(l=r.message)||void 0===l||null===(d=l.Dataset_created)||void 0===d?void 0:d.id),L(!1),v.NotificationManager.success("Dataset created !"),A(""),_("")}else v.NotificationManager.error("Dataset create process failed!");else v.NotificationManager.error("Dataset create process failed!")})).catch((function(e){console.log("Dataset create error",e)})))},children:"Save"}),Object(C.jsx)(h.a,{variant:"contained",color:"danger",style:{width:"100px",padding:"7px 5px"},className:"mx-2 d-flex justify-content-center align-items-center",onClick:function(){return t.push("/app/dashboard/project")},children:"Cancel"}),Object(C.jsxs)(h.a,{variant:"contained",color:"primary",style:{width:"100px",padding:"7px 5px"},disabled:K,className:"mx-2 d-flex justify-content-center align-items-center",onClick:function(){return Q()},children:[Object(C.jsx)(r.a,{}),"Upload"]})]})]})})})}),k&&Object(C.jsx)(c.a,{})]})]})}}}]);
//# sourceMappingURL=86.34adf9dd.chunk.js.map