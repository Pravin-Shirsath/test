(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[69],{1551:function(e,t,a){},2483:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var c=a(8),s=(a(1551),a(1)),l=a(39),i=a(66),n=a(69),o=a(17),r=a(52),d=a(118),j=(a(195),a(88),a(339)),u=a(42),b=a(18),m=a(231),p=a(0);function h(e){Object(i.g)();var t=Object(s.useState)(!1),a=Object(c.a)(t,2),h=a[0],O=(a[1],Object(s.useState)([])),g=Object(c.a)(O,2),v=(g[0],g[1]),x=Object(s.useState)([]),f=Object(c.a)(x,2),N=f[0],y=(f[1],Object(s.useState)(0)),S=Object(c.a)(y,2),F=(S[0],S[1],Object(s.useState)(null)),w=Object(c.a)(F,2),I=w[0],_=w[1],C=Object(s.useState)(0),R=Object(c.a)(C,2),k=R[0],J=R[1],B=Object(s.useState)(0),A=Object(c.a)(B,2),M=(A[0],A[1],Object(s.useState)(0)),G=Object(c.a)(M,2),P=G[0],D=G[1],E=Object(s.useState)(JSON.parse(localStorage.getItem("Couponcode"))||""),L=Object(c.a)(E,2),V=L[0],T=L[1],W=Object(s.useState)(0),q=Object(c.a)(W,2),z=q[0],H=q[1],K=Object(s.useState)(JSON.parse(localStorage.getItem("Discount"))||{discount_value:0,discount_type:""}),Q=Object(c.a)(K,2),U=Q[0];Q[1];Object(s.useEffect)((function(){localStorage.getItem("isLoggedIn");X()}),[]);var X=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(u.p)(e,1).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)){var t,a,c,s,l;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.results)if(void 0!=(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.results))if(1==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.results.length))_(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.results[0]);v(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),console.log("Response fromRecharged list :",e)}else console.log("Response from fromRecharged:",e)})).catch((function(e){var t;Object(m.a)(e),null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))};Object(s.useEffect)((function(){!function(){if(""===U.discount_type)H(0);else if("amount"===U.discount_type)U.discount_value<=P?H(parseInt(U.discount_value)):(H(0),0!=P&&b.NotificationManager.error("coupon can not be applied below ".concat(parseInt(U.discount_value)," rupees")));else if("percentage"==U.discount_type)if(0!=P){var e=parseInt(P)*(parseInt(U.discount_value)/100);H(e)}else H(0)}()}),[P]);var Y=function(){return P>=z?parseInt(P)-parseInt(z):parseInt(P)};return Object(p.jsxs)("div",{className:"user-management",children:[Object(p.jsxs)(l.a,{children:[Object(p.jsx)("title",{children:"Automaton | Customers List"}),Object(p.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(p.jsx)(n.a,{title:Object(p.jsx)(o.a,{id:"sidebar.recharge"}),match:e.match}),Object(p.jsx)("div",{className:"row ",children:N&&N.map((function(e,t){return Object(p.jsx)(r.a,{colClasses:"col-sm-12 col-md-3 col-lg-3  rounded",fullBlock:!0,children:Object(p.jsx)("div",{className:"shadow project-card-shadow",children:Object(p.jsx)("section",{className:"bg-primary text-white px-3 shadow rounded d-flex  align-items-center py-3 ",children:Object(p.jsxs)("div",{className:"ml-4  align-items-center ",children:[Object(p.jsxs)("h2",{className:"",children:[null===e||void 0===e?void 0:e.subscription_name," "]}),Object(p.jsxs)("h3",{children:[e.per_gb_rate," \u20b9 / GB "]})]})})})},t)}))}),Object(p.jsxs)(r.a,{fullBlock:!0,children:[Object(p.jsx)("div",{className:"table-responsive dark-primary-text",children:Object(p.jsxs)("div",{className:"rechargeBoxContainer",children:[Object(p.jsx)("div",{className:"heading dark-primary",children:Object(p.jsx)("h1",{className:"globalFontFamily",children:"Recharge"})}),Object(p.jsxs)("div",{className:"firstRow recharge-modal-row light-primary",children:[Object(p.jsx)("div",{className:"left",children:Object(p.jsxs)("p",{className:"wrapper",children:[Object(p.jsx)("p",{className:"text globalFontFamily",children:"Additional Space"})," ",Object(p.jsxs)("p",{className:"inputMaterial globalFontFamily",children:[Object(p.jsx)("input",{type:"number",value:k,onChange:function(e){return function(e){if(console.log(e,typeof e,isNaN(e)),(!isNaN(e)||""===e)&&(parseFloat(e)<0?(D(0),J(0),b.NotificationManager.error("Value cannot be negative. Please enter a valid Value."),console.log("")):J(e),I)){var t=parseInt(e)*parseInt(null===I||void 0===I?void 0:I.per_gb_rate);console.log(t,"total"),isNaN(t)?D(0):D(parseInt(t))}}(e.target.value)}})," GB ",Object(p.jsxs)("span",{className:"diff globalFontFamily",children:["@",null===I||void 0===I?void 0:I.per_gb_rate," \u20b9 / GB"]})]})]})}),Object(p.jsx)("div",{className:"mid globalFontFamily",children:Object(p.jsx)("p",{children:"="})}),Object(p.jsx)("div",{className:"right globalFontFamily",children:Object(p.jsxs)("p",{children:[P," \u20b9"]})})]}),Object(p.jsxs)("div",{className:"secondRow recharge-modal-row light-primary",children:[Object(p.jsx)("div",{className:"left",children:Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"inputContainer",children:Object(p.jsx)("input",{value:V,onChange:function(e){return T(e.target.value)}})})," ",Object(p.jsx)(j.a,{onClick:function(){var e=JSON.parse(localStorage.getItem("token"));""!=V?null!==e&&Object(u.g)(e,V).then((function(e){var t,a;(console.log("coupan=",e),200===(null===e||void 0===e?void 0:e.status))?null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t[0]&&(localStorage.setItem("Discount",JSON.stringify(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a[0])),localStorage.setItem("Couponcode",JSON.stringify(V)),b.NotificationManager.Success("Copon Apply")):console.log("Response from fromRecharged:",e)})).catch((function(e){Object(m.a)(e)})):b.NotificationManager.error("Coupon code is empty")},color:"primary",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Apply Coupon"})]})}),Object(p.jsx)("div",{className:"mid",children:Object(p.jsx)("p",{className:"globalFontFamily",children:"="})}),Object(p.jsx)("div",{className:"right globalFontFamily",children:Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"operator globalFontFamily",children:"-"}),z," \u20b9"]})})]}),Object(p.jsxs)("div",{className:"thirdRow recharge-modal-row light-primary",children:[Object(p.jsx)("div",{className:"left"}),Object(p.jsx)("div",{className:"mid"}),Object(p.jsx)("div",{className:"right",children:Object(p.jsxs)("p",{className:"globalFontFamily",children:[" ",Y()," \u20b9"]})})]}),Object(p.jsx)("div",{className:"fourthRow recharge-modal-row light-primary",children:Object(p.jsxs)("p",{className:"globalFontFamily",children:["Net Payable ",Object(p.jsxs)("span",{children:[Y()," \u20b9"]})]})}),Object(p.jsx)("div",{className:"fifthRow recharge-modal-row light-primary",children:Object(p.jsx)("p",{children:Object(p.jsx)(j.a,{color:"primary",style:{padding:"10px 50px"},children:"Proceed To Checkout"})})})]})}),h&&Object(p.jsx)(d.a,{})]})]})}}}]);
//# sourceMappingURL=69.281f24b4.chunk.js.map