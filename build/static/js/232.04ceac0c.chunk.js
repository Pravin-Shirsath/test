(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[232],{2600:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return v}));var a=s(7),c=s(1),n=s(34),r=s(37),l=s(0);var i=function(){var e=Object(c.useState)(),t=Object(a.a)(e,2),s=t[0],n=t[1];Object(c.useEffect)((function(){i()}),[]);var i=function(){var e=JSON.parse(localStorage.getItem("token"));console.log("Token",e),null!==e&&Object(r.r)(e).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(n(null===e||void 0===e?void 0:e.data),console.log("Profile Info ResponseData",null===e||void 0===e?void 0:e.data)):(null===e||void 0===e||e.status,console.log("Profile Info Response",e))})).catch((function(e){console.log(e)}))};return Object(l.jsx)("div",{className:"profile-content",children:Object(l.jsxs)("div",{className:"media align-items-center",children:[Object(l.jsxs)("div",{style:{position:"relative"},children:[Object(l.jsx)("img",{src:null==(null===s||void 0===s?void 0:s.profile_image)?"".concat("","/assets/images/avatars/user-15.jpg"):s.profile_image,alt:"user profile",className:"rounded-circle bordered",width:"140",height:"140"}),Object(l.jsx)("i",{className:"ti-pencil rounded-circle bordered text-white",style:{position:"absolute",bottom:"6px",right:"20%",backgroundColor:"#464D69"},children:" "}),Object(l.jsx)("input",{type:"file",className:"rounded-circle bordered",style:{position:"absolute",bottom:"6px",right:"20%",backgroundColor:"#464D69",width:"30px",height:"30px",opacity:0}})]}),Object(l.jsx)("div",{className:"media-body pt-25",children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-baseline",children:[Object(l.jsxs)("h2",{className:"user-name text-white",children:[null===s||void 0===s?void 0:s.first_name," ",null===s||void 0===s?void 0:s.last_name]}),Object(l.jsx)("h2",{children:null===s||void 0===s?void 0:s.username}),Object(l.jsx)("p",{children:null===s||void 0===s?void 0:s.email})]})})]})})},o=s(478),d=s(322),j=s(875),m=s(528),b=s(477),x=s(59),u=s(12),O=(s(1911),s(2356)),h=s(1912),f=s(127),p=s(63),g=s(10),N=(s(87),s(152));function v(e){var t=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).first_name),s=Object(a.a)(t,2),v=s[0],y=s[1],S=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).last_name),w=Object(a.a)(S,2),C=w[0],P=w[1],_=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).email),A=Object(a.a)(_,2),k=A[0],I=A[1],T=Object(c.useState)(JSON.parse(localStorage.getItem("ProfileData")).mobile_number),D=Object(a.a)(T,2),F=D[0],M=D[1],z=Object(c.useState)(""),J=Object(a.a)(z,2),q=J[0],Z=J[1],U=Object(c.useState)(""),L=Object(a.a)(U,2),E=L[0],R=L[1],$=Object(c.useState)(""),W=Object(a.a)($,2),B=W[0],G=W[1],H=Object(c.useState)(""),K=Object(a.a)(H,2),Q=K[0],V=K[1],X=Object(c.useState)(""),Y=Object(a.a)(X,2),ee=Y[0],te=Y[1],se=Object(c.useState)(""),ae=Object(a.a)(se,2),ce=ae[0],ne=ae[1],re=Object(c.useState)(""),le=Object(a.a)(re,2),ie=le[0],oe=le[1],de=Object(c.useState)(""),je=Object(a.a)(de,2),me=je[0],be=je[1],xe=Object(c.useState)(""),ue=Object(a.a)(xe,2),Oe=ue[0],he=ue[1],fe=Object(c.useState)(""),pe=Object(a.a)(fe,2),ge=pe[0],Ne=pe[1],ve=Object(c.useState)(""),ye=Object(a.a)(ve,2),Se=ye[0],we=ye[1],Ce=Object(c.useState)(""),Pe=Object(a.a)(Ce,2),_e=Pe[0],Ae=(Pe[1],Object(c.useState)("")),ke=Object(a.a)(Ae,2),Ie=ke[0],Te=(ke[1],Object(c.useState)("")),De=Object(a.a)(Te,2),Fe=De[0],Me=(De[1],Object(c.useState)("")),ze=Object(a.a)(Me,2),Je=ze[0],qe=ze[1],Ze=Object(c.useState)(""),Ue=Object(a.a)(Ze,2),Le=Ue[0],Ee=Ue[1],Re=Object(c.useState)(""),$e=Object(a.a)(Re,2),We=$e[0],Be=$e[1],Ge=Object(c.useState)(""),He=Object(a.a)(Ge,2),Ke=He[0],Qe=(He[1],Object(c.useState)(!1)),Ve=Object(a.a)(Qe,2),Xe=Ve[0],Ye=Ve[1],et=Object(x.g)();console.log({"firstName:":v,"lastName:":C,email:k,phone:F,country:q,"zipCode:":E,"state:":B,"companyName:":Q,"billingAddress:":ee,"taxNumber:":ce,"companyAddress:":ie});return Object(l.jsxs)("div",{className:"userProfile-wrapper",children:[Object(l.jsxs)(n.a,{children:[Object(l.jsx)("title",{children:"Automaton | User Profile"}),Object(l.jsx)("meta",{name:"description",content:"User Profile"})]}),Object(l.jsx)(p.a,{title:Object(l.jsx)(g.a,{id:"sidebar.userProfile"}),match:e.match}),Object(l.jsxs)(f.a,{"data-bs-spy":"scroll",children:[Object(l.jsx)(i,{}),Object(l.jsxs)(o.a,{className:"border",children:[Object(l.jsx)("section",{className:"border border-5 py-10 d-flex align-item-center justify-content-center bg-dark text-white",children:Object(l.jsx)("h2",{children:"Personal Details"})}),Object(l.jsxs)("div",{className:"edit-form",children:[Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"firstName",sm:3,className:"d-flex",children:["First Name ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(b.a,{type:"text",name:"firstname",className:"input-lg",value:v,onChange:function(e){return y(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:me})})]}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"lastName",sm:3,className:"d-flex",children:["Last Name ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(b.a,{type:"text",name:"lastName",className:"input-lg",value:C,onChange:function(e){return P(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Oe})})]})]}),Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"email",sm:3,className:"d-flex",children:["Email Id ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(b.a,{type:"text",name:"email",className:"input-lg",value:k,onChange:function(e){return I(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:ge})})]}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsx)(m.a,{for:"state",sm:3,children:"State"}),Object(l.jsx)(h.b,{classes:"w-100 form-control form-control-lg text-md",style:{fontSize:"16px",type:"text"},country:q,value:B,onChange:function(e){return G(e),console.log(e)}})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Fe})})]})]}),Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsx)(m.a,{for:"country",sm:3,children:"Country"}),Object(l.jsx)(h.a,{classes:"w-100 form-control form-control-lg text-md",value:q,onChange:function(e){return Z(e)},style:{fontSize:"17px",type:"text"}})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:_e})})]}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsx)(m.a,{for:"zipCode",sm:3,children:"Zipcode"}),Object(l.jsx)(b.a,{type:"text",name:"zipcode",className:"input-lg",value:E,onChange:function(e){return R(e.target.value)},sm:9,disabled:!(B.length>0)})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Ie})})]})]}),Object(l.jsx)(d.a,{row:!0,children:Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"phone",sm:3,className:"d-flex",children:["Phone ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(O.a,{placeholder:"Enter phone number",value:F,onChange:function(e){return M(e)},defaultCountry:"IN",className:"w-100 form-control form-control-lg text-md",limitMaxLength:!0,sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Se})})]})})]}),Object(l.jsx)("section",{className:"border border-5 py-10 d-flex align-item-center justify-content-center bg-dark text-white",children:Object(l.jsx)("h2",{children:"Company Details"})}),Object(l.jsxs)("div",{className:"edit-form",children:[Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"companyName",sm:3,className:"d-flex",children:["Company Name ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(b.a,{type:"text",name:"companyName",className:"input-lg",value:Q,onChange:function(e){return V(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Je})})]}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"billingAddress",sm:3,className:"d-flex",children:["Billing Address ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(b.a,{style:{height:120},type:"textarea",name:"billingAddress",className:"input-lg",value:ee,onChange:function(e){return te(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Le})})]})]}),Object(l.jsxs)(d.a,{row:!0,children:[Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsxs)(m.a,{for:"taxNumber",sm:3,className:"d-flex",children:["Tax Number ",Object(l.jsx)("span",{className:"text-danger",children:"*"})]}),Object(l.jsx)(b.a,{type:"text",name:"taxNumber",className:"input-lg",value:ce,onChange:function(e){return ne(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:We})})]}),Object(l.jsxs)(j.a,{sm:6,children:[Object(l.jsxs)(j.a,{sm:12,className:"d-flex ",children:[Object(l.jsx)(m.a,{for:"companyAddress",sm:3,children:"Company Address"}),Object(l.jsx)(b.a,{type:"textarea",style:{height:120},name:"companyAddress",className:"input-lg",value:ie,onChange:function(e){return oe(e.target.value)},sm:9})]}),Object(l.jsx)("div",{className:"d-flex align-item-center justify-content-center",children:Xe&&Object(l.jsx)("p",{className:"error mt-0",children:Ke})})]})]}),Object(l.jsxs)(d.a,{className:"row mt-50",children:[Object(l.jsx)(j.a,{sm:6,children:Object(l.jsxs)("h4",{children:["   ",Object(l.jsx)("span",{className:"text-danger",children:"*"})," Compulsory Field"]})}),Object(l.jsx)(j.a,{sm:6,children:Object(l.jsxs)("section",{className:"row ",children:[Object(l.jsx)(j.a,{sm:6,children:Object(l.jsx)(N.a,{color:"primary",className:"btn-block text-white px-50 fw-bold bg-primary.bg-gradient",variant:"contained",size:"medium",onClick:function(){var e={},t=/^[a-zA-Z]{1,30}$/;""===k.trim()||null===F&&void 0===F||""===v.trim()||""===C.trim()||""===Q.trim()||""===ee.trim()||""===ce.trim()?(be(""),he(""),Ne(""),we(""),qe(""),Be(""),Ee(""),""==k.trim()&&Ne("* This is required Field"),""==v.trim()&&be("* This is required Field"),""==C.trim()&&he("* This is required Field"),""==Q.trim()&&qe("* This is required Field"),""==ee.trim()&&Ee("* This is required Field"),""==ce.trim()&&Be("* This is required Field"),null==F&&we("* This is required Field"),Ye(!0)):(Ye(!1),be(""),he(""),Ne(""),we(""),qe(""),Be(""),Ee(""),""!=q&&(e.country=q),""!=B&&(e.state=B),""!=E&&(e.zip_code=E),""!=ie&&(e.company_address=ie),t.test(v.trim())?t.test(C.trim())?Object(O.b)(F+"".trim(""))?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(k.trim(""))?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(ce+"".trim(""))?(e.first_name=v,e.last_name=C,e.mobile_number=F,e.email=k,e.company_name=Q,e.billing_address=ee,e.tax_number=ce,function(e){console.log("Profile_Details==",e);var t=JSON.parse(localStorage.getItem("token"));null!==t?(u.NotificationManager.success("Profile Updated Successfully!"),Object(r.w)(v,C,k.toLowerCase(),F,t).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&(console.log("Response from update profile:",e),Ye(!1),be(""),he(""),Ne(""),we(""),qe(""),Be(""),Ee(""),y(""),P(""),M(""),I(""),Z(""),R(""),G(""),V(""),te(""),ne(""),oe(""),u.NotificationManager.success("Profile Updated Successfully!"),et.push("/app/dashboard/saas"),window.location.reload())})).catch((function(e){var t,s,a,c,n;console.log("Update profile error :",null===e||void 0===e?void 0:e.response),console.log(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data,"error data from user profile"),400===(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status)&&u.NotificationManager.error(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(c=a.data)||void 0===c||null===(n=c.email)||void 0===n?void 0:n[0])}))):u.NotificationManager.error("accessToken not found")}(e)):u.NotificationManager.error("Invalid Tax format!"):u.NotificationManager.error("Invalid email format!"):u.NotificationManager.error("Phone number must be 10 digit long!"):u.NotificationManager.error("Last name must contain only alphabet and no spacings!"):u.NotificationManager.error("First name must contain only alphabet and no spacings!"))},style:{maxWidth:"150px"},children:"Save"})}),Object(l.jsx)(j.a,{sm:6,children:Object(l.jsx)(N.a,{color:"primary",className:"btn-block px-50 py-2 text-white fw-bold btn-danger",variant:"contained",size:"medium",style:{maxWidth:"150px"},children:"Cancel"})})]})})]})]})]})]})]})}}}]);
//# sourceMappingURL=232.04ceac0c.chunk.js.map