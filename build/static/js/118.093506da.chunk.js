(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[118],{2410:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(16),s=a(3),i=a(7),l=a(1),c=a(35),r=a(152),o=a(800),d=a.n(o),u=a(543),j=a(535),b=a(532),m=a(479),O=a(324),h=a(529),v=a(478),f=a(533),x=a(480),p=a(482),g=a(13),N=a(132),y=a.n(N),C=a(59),_=(a(167),a(63)),S=a(10),w=a(47),k=a(108),M=(a(170),a(39)),E=a(0);function I(e){Object(C.g)(),Object(l.useRef)();var t=Object(l.useState)([]),a=Object(i.a)(t,2),o=a[0],N=a[1],I=Object(l.useState)([]),R=Object(i.a)(I,2),P=R[0],U=R[1],J=Object(l.useState)(""),L=Object(i.a)(J,2),A=L[0],D=L[1],F=Object(l.useState)(1),T=Object(i.a)(F,2),q=T[0],B=T[1],$=Object(l.useState)(""),z=Object(i.a)($,2),W=z[0],Z=z[1],G=Object(l.useState)(null),H=Object(i.a)(G,2),K=H[0],Q=(H[1],Object(l.useState)(!1)),V=Object(i.a)(Q,2),X=V[0],Y=V[1],ee=Object(l.useState)(!1),te=Object(i.a)(ee,2),ae=(te[0],te[1]),ne=Object(l.useState)(!1),se=Object(i.a)(ne,2),ie=se[0],le=se[1],ce=Object(l.useState)(!1),re=Object(i.a)(ce,2),oe=re[0],de=re[1],ue=Object(l.useState)({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),je=Object(i.a)(ue,2),be=je[0],me=je[1],Oe=Object(l.useState)({first_name:"",last_name:"",mobile_number:""}),he=Object(i.a)(Oe,2),ve=(he[0],he[1],Object(l.useState)(!1)),fe=Object(i.a)(ve,2),xe=fe[0],pe=fe[1],ge=Object(l.useState)(null),Ne=Object(i.a)(ge,2),ye=(Ne[0],Ne[1],Object(l.useState)(0)),Ce=Object(i.a)(ye,2),_e=(Ce[0],Ce[1],Object(l.useState)()),Se=Object(i.a)(_e,2);Se[0],Se[1];Object(l.useEffect)((function(){localStorage.getItem("isLoggedIn");we()}),[]);var we=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(M.r)(e,q).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(N(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),U(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),Z(parseInt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)))})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))},ke=function(e,t){me(Object(s.a)(Object(s.a)({},be),{},Object(n.a)({},e,t)))};return Object(E.jsxs)("div",{className:"user-management",children:[Object(E.jsxs)(c.a,{children:[Object(E.jsx)("title",{children:"Automaton | Customers List"}),Object(E.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(E.jsx)(_.a,{title:Object(E.jsx)(S.a,{id:"custmermangement"}),match:e.match}),Object(E.jsxs)(w.a,{fullBlock:!0,children:[Object(E.jsxs)("div",{className:"table-responsive",children:[Object(E.jsx)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:Object(E.jsxs)("div",{className:"search-row",children:[Object(E.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:A,onChange:function(e){return D(e.target.value)}}),Object(E.jsx)(r.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(M.u)(e,A).then((function(e){var t,a;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0?(U(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),D("")):(U(o),D(""),g.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]})}),Object(E.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{}),Object(E.jsx)("th",{children:"No"}),Object(E.jsx)("th",{children:"User"}),Object(E.jsx)("th",{children:"Email"}),Object(E.jsx)("th",{children:"Phone"}),Object(E.jsx)("th",{children:"Action"})]})}),Object(E.jsx)("tbody",{children:P&&P.map((function(e,t,a){var n=null===e||void 0===e?void 0:e.is_active;return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{}),Object(E.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(E.jsx)("td",{children:Object(E.jsx)("div",{className:"media",children:Object(E.jsx)("div",{className:"media-body",children:Object(E.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.user})})})}),Object(E.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(E.jsx)("td",{children:null!==e&&void 0!==e&&e.phone?null===e||void 0===e?void 0:e.phone:"-"}),Object(E.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(E.jsx)(d.a,{onClick:function(){return function(e,t){var a=JSON.parse(localStorage.getItem("token"));null!==a&&(null!==e&&void 0!==e&&e.is_active?Object(M.b)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(de(!1),Y(!0),console.log("Response",e),setTimeout((function(){Y(!1),we(),g.NotificationManager.success("User disable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,de(!1),g.NotificationManager.error("Error while disable user"))})).catch((function(e){de(!1),g.NotificationManager.error("Error while disable user")})):Object(M.c)(a,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(de(!1),Y(!0),console.log("Response",e),setTimeout((function(){Y(!1),we(),g.NotificationManager.success("User enable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,de(!1),g.NotificationManager.error("Error while enable user"))})).catch((function(e){de(!1),g.NotificationManager.error("Error while enable user")})))}(e)},on:n,className:1==(null===e||void 0===e?void 0:e.is_active)?"bg-primary":"bg-danger"})})]},t)}))})]}),(null===o||void 0===o?void 0:o.length)>0&&Object(E.jsx)("div",{className:"paginationDiv",children:Object(E.jsx)(y.a,{activePage:q,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(q!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(M.r)(t,e).then((function(e){var t,a,n;200===(null===e||void 0===e?void 0:e.status)&&(N(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),U(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results),Z(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count))})).catch((function(e){})),B(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:W})})]}),X&&Object(E.jsx)(k.a,{})]}),Object(E.jsxs)(u.a,{isOpen:ie,className:"addCustomerModal",children:[Object(E.jsx)(j.a,{toggle:function(){return le(!1)},children:"Update Customer"}),Object(E.jsx)(b.a,{children:Object(E.jsxs)(m.a,{children:[Object(E.jsxs)(O.a,{children:[Object(E.jsx)(h.a,{for:"firstName",children:"First Name"}),Object(E.jsx)(v.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Enter First Name",value:be.first_name,onChange:function(e){return ke("first_name",e.target.value)}})]}),Object(E.jsxs)(O.a,{children:[Object(E.jsx)(h.a,{for:"lastName",children:"Last Name"}),Object(E.jsx)(v.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Enter Last Name",value:be.last_name,onChange:function(e){return ke("last_name",e.target.value)}})]}),Object(E.jsxs)(O.a,{children:[Object(E.jsx)(h.a,{for:"Contact",children:"Contact Number"}),Object(E.jsx)(v.a,{type:"number",name:"mobile",id:"mobile",placeholder:"Enter Contact Number",value:be.mobile_number,onChange:function(e){return ke("mobile_number",e.target.value)}})]})]})}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(r.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",onClick:function(){var e=be.first_name,t=be.last_name,a=be.mobile_number,n=be.id,s=/^[a-zA-Z]{1,30}$/;if(""!==e&&""!==t&&""!==a)if(!0===s.test(e))if(!0===s.test(t))if(!0===/^\d{10}$/.test(a)){var i=JSON.parse(localStorage.getItem("token"));null!==i&&Object(M.E)(i,e,t,a,n).then((function(e){if(200===(null===e||void 0===e?void 0:e.status))le(!1),Y(!0),setTimeout((function(){Y(!1),we(),g.NotificationManager.success("Updated user successfully!")}),2e3),me({username:"",email:"",first_name:"",last_name:"",mobile_number:""}),console.log("Response from updatecustomer:",e);else if(400===(null===e||void 0===e?void 0:e.status)){var t,a;ae(!1),g.NotificationManager.error(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.email,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.username)}else ae(!1),g.NotificationManager.error("Error while updating customer")})).catch((function(e){g.NotificationManager.error("Error while updating customer")}))}else g.NotificationManager.error("Mobile Number must be 10 digits!");else g.NotificationManager.error("Last name must contain only alphabet and no spacings!");else g.NotificationManager.error("First name must contain only alphabet and no spacings!");else g.NotificationManager.error("Please provide all customer details")},children:"Update"}),Object(E.jsx)(r.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){le(!1),me({username:"",email:"",first_name:"",last_name:"",mobile_number:""})},children:"Cancel"})]})]}),Object(E.jsxs)(u.a,{isOpen:oe,className:"addCustomerModal",children:[Object(E.jsxs)(b.a,{children:["Are you sure want to delete ",null===K||void 0===K?void 0:K.username," ?"]}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(r.a,{variant:"contained",style:{backgroundColor:"#0b3d45",color:"#fff",borderRadius:"6px"},className:"text-white",children:"Delete"}),Object(E.jsx)(r.a,{variant:"contained",className:"text-white btn-secondary",onClick:function(){return de(!1)},children:"Cancel"})]})]}),Object(E.jsx)(x.a,{onClose:function(){return pe(!1)},open:xe,children:Object(E.jsx)(p.a,{className:"view_profile",children:null!==K&&Object(E.jsx)("div",{children:Object(E.jsx)("div",{className:"clearfix",children:Object(E.jsx)("div",{className:"media pull-left",children:Object(E.jsxs)("div",{className:"media-body",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:"Username : "}),Object(E.jsx)("span",{className:"fw-bold",children:K.username})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:"First Name : "}),Object(E.jsx)("span",{className:"fw-bold",children:K.first_name})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:"Last Name : "}),Object(E.jsx)("span",{className:"fw-bold",children:K.last_name})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:"Email : "}),Object(E.jsx)("span",{className:"fw-bold",children:K.email})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:"Contact Number : "}),Object(E.jsx)("span",{className:"fw-bold",children:K.mobile_number})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:"User Type : "}),Object(E.jsx)("span",{className:"badge badge-warning",children:K.user_type})]})]})})})})})})]})}},800:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var l={on:n.default.bool.isRequired,onClick:n.default.func.isRequired,enabled:n.default.bool,className:n.default.string};function c(e){var t=e.on,a=e.onClick,n=e.onDisabledClick,i=e.enabled,l=e.className,c=e.children,r=["switch",l,t?"on ":"",i?"":"disabled "].join(" ");return s.default.createElement("div",{className:r,onClick:function(e){return i?a(e):n(e)}},s.default.createElement("div",{className:"switch-toggle",children:c}))}c.propTypes=l,c.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=c}}]);
//# sourceMappingURL=118.093506da.chunk.js.map