(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[124],{2481:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(8),l=n(1),a=n(39),s=n(174),c=n(732),o=n.n(c),r=n(20),d=n(145),u=n.n(d),j=n(66),b=(n(193),n(69)),v=n(17),h=n(52),f=(n(118),n(195),n(42)),O=n(0);function m(e){Object(j.g)();var t=Object(l.useState)([]),n=Object(i.a)(t,2),c=n[0],d=n[1],m=Object(l.useState)([]),g=Object(i.a)(m,2),p=g[0],x=g[1],N=Object(l.useState)(""),y=Object(i.a)(N,2),S=y[0],k=y[1],C=Object(l.useState)(1),w=Object(i.a)(C,2),E=w[0],I=w[1],M=Object(l.useState)(""),P=Object(i.a)(M,2),_=P[0],J=P[1],R=Object(l.useState)(!1),D=Object(i.a)(R,2),A=(D[0],D[1]),L=Object(l.useState)(!1),T=Object(i.a)(L,2),U=(T[0],T[1]);Object(l.useEffect)((function(){localStorage.getItem("isLoggedIn");q()}),[]);var q=function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(f.E)(e,E).then((function(e){var t,n,i;200===(null===e||void 0===e?void 0:e.status)&&(d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),x(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results),J(parseInt(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)))})).catch((function(e){var t;null===e||void 0===e||null===(t=e.response)||void 0===t||t.status}))};return Object(O.jsxs)("div",{className:"user-management",children:[Object(O.jsxs)(a.a,{children:[Object(O.jsx)("title",{children:"Automaton | Customers List"}),Object(O.jsx)("meta",{name:"description",content:"Automaton Widgets"})]}),Object(O.jsx)(b.a,{title:Object(O.jsx)(v.a,{id:"custmermangement"}),match:e.match}),Object(O.jsx)(h.a,{fullBlock:!0,children:Object(O.jsxs)("div",{className:"table-responsive",children:[Object(O.jsx)("div",{className:"d-flex py-20 px-10 border-bottom",style:{justifyContent:"space-between"},children:Object(O.jsxs)("div",{className:"search-row",children:[Object(O.jsx)("input",{type:"text",placeholder:"Search",className:"search-input py-2",style:{border:"none",borderBottom:"1px solid black"},value:S,onChange:function(e){return k(e.target.value)}}),Object(O.jsx)(s.a,{variant:"contained",color:"primary",className:"text-white mx-5",style:{cursor:"pointer"},onClick:function(){var e=JSON.parse(localStorage.getItem("token"));null!==e&&Object(f.I)(e,S).then((function(e){var t,n;200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results.length)>0?(x(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results),k("")):(x(c),k(""),r.NotificationManager.error("No user found!"))})).catch((function(e){}))},children:"Search"})]})}),Object(O.jsxs)("table",{className:"table table-middle table-hover mb-0",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"No"}),Object(O.jsx)("th",{children:"User"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"Phone"}),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:p&&p.map((function(e,t,n){var i=null===e||void 0===e?void 0:e.is_active;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),Object(O.jsx)("td",{children:Object(O.jsx)("div",{className:"media",children:Object(O.jsx)("div",{className:"media-body",children:Object(O.jsx)("h5",{className:"mb-5 fw-bold",children:null===e||void 0===e?void 0:e.user})})})}),Object(O.jsx)("td",{children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"}),Object(O.jsx)("td",{children:null!==e&&void 0!==e&&e.phone?null===e||void 0===e?void 0:e.phone:"-"}),Object(O.jsx)("td",{className:"list-action",style:{display:"flex",gap:"3px"},children:Object(O.jsx)(o.a,{onClick:function(){return function(e,t){var n=JSON.parse(localStorage.getItem("token"));null!==n&&(null!==e&&void 0!==e&&e.is_active?Object(f.g)(n,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(U(!1),A(!0),console.log("Response",e),setTimeout((function(){A(!1),q(),r.NotificationManager.success("User disable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,U(!1),r.NotificationManager.error("Error while disable user"))})).catch((function(e){U(!1),r.NotificationManager.error("Error while disable user")})):Object(f.h)(n,e.id).then((function(e){200===(null===e||void 0===e?void 0:e.status)?(U(!1),A(!0),console.log("Response",e),setTimeout((function(){A(!1),q(),r.NotificationManager.success("User enable successfully  !! ")}),2e3)):(null===e||void 0===e||e.status,U(!1),r.NotificationManager.error("Error while enable user"))})).catch((function(e){U(!1),r.NotificationManager.error("Error while enable user")})))}(e)},on:i,className:1==(null===e||void 0===e?void 0:e.is_active)?"bg-primary":"bg-danger"})})]},t)}))})]}),(null===c||void 0===c?void 0:c.length)>0&&Object(O.jsx)("div",{className:"paginationDiv",children:Object(O.jsx)(u.a,{activePage:E,itemsCountPerPage:10,pageRangeDisplayed:5,onChange:function(e){return function(e){if(E!==e){var t=JSON.parse(localStorage.getItem("token"));null!==t&&Object(f.E)(t,e).then((function(e){var t,n,i;200===(null===e||void 0===e?void 0:e.status)&&(d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),x(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results),J(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count))})).catch((function(e){})),I(e)}}(e)},itemClass:"page-item",linkClass:"page-link",hideFirstLastPages:!0,totalItemsCount:_})})]})})]})}},732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2)),l=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s={on:i.default.bool.isRequired,onClick:i.default.func.isRequired,enabled:i.default.bool,className:i.default.string};function c(e){var t=e.on,n=e.onClick,i=e.onDisabledClick,a=e.enabled,s=e.className,c=e.children,o=["switch",s,t?"on ":"",a?"":"disabled "].join(" ");return l.default.createElement("div",{className:o,onClick:function(e){return a?n(e):i(e)}},l.default.createElement("div",{className:"switch-toggle",children:c}))}c.propTypes=s,c.defaultProps={enabled:!0,className:"",onDisabledClick:function(){}},t.default=c}}]);
//# sourceMappingURL=124.7e012438.chunk.js.map